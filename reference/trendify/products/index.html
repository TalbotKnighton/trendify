
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Data visualization for batch processes via data models.">
      
      
        <meta name="author" content="Talbot Knighton">
      
      
        <link rel="canonical" href="https://talbotknighton.github.io/trendify/reference/trendify/products/">
      
      
        <link rel="prev" href="../cli/">
      
      
        <link rel="next" href="../server/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.42">
    
    
      
        <title>products - Trendify</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.0253249f.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../css/code_select.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#trendify.products" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Trendify" class="md-header__button md-logo" aria-label="Trendify" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Trendify
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              products
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/TalbotKnighton/trendify" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  Welcome

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../usage/" class="md-tabs__link">
        
  
    
  
  Usage

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../grafana_api/" class="md-tabs__link">
          
  
  Code Reference

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Trendify" class="md-nav__button md-logo" aria-label="Trendify" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Trendify
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/TalbotKnighton/trendify" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Code Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Code Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../grafana_api/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    grafana_api
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            grafana_api
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../grafana_api/dashboard/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dashboard
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../grafana_api/panels/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    panels
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_2" id="__nav_3_1_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_2">
            <span class="md-nav__icon md-icon"></span>
            panels
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../grafana_api/panels/xy_chart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    xy_chart
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../grafana_api/transformations/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    transformations
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_3" id="__nav_3_1_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_3">
            <span class="md-nav__icon md-icon"></span>
            transformations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../grafana_api/transformations/transformations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    transformations
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    trendify
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            trendify
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cli
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    products
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    products
  </span>
  

      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#trendify.products" class="md-nav__link">
    <span class="md-ellipsis">
      products
    </span>
  </a>
  
    <nav class="md-nav" aria-label="products">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.DATA_PRODUCTS_FNAME" class="md-nav__link">
    <span class="md-ellipsis">
      DATA_PRODUCTS_FNAME
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Tag" class="md-nav__link">
    <span class="md-ellipsis">
      Tag
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Tags" class="md-nav__link">
    <span class="md-ellipsis">
      Tags
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProduct" class="md-nav__link">
    <span class="md-ellipsis">
      DataProduct
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DataProduct">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProduct.Config" class="md-nav__link">
    <span class="md-ellipsis">
      Config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProduct.__init_subclass__" class="md-nav__link">
    <span class="md-ellipsis">
      __init_subclass__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProduct.append_to_list" class="md-nav__link">
    <span class="md-ellipsis">
      append_to_list
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProduct.deserialize_child_classes" class="md-nav__link">
    <span class="md-ellipsis">
      deserialize_child_classes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProductCollection" class="md-nav__link">
    <span class="md-ellipsis">
      DataProductCollection
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DataProductCollection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProductCollection.add_products" class="md-nav__link">
    <span class="md-ellipsis">
      add_products
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProductCollection.collect_from_all_jsons" class="md-nav__link">
    <span class="md-ellipsis">
      collect_from_all_jsons
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProductCollection.drop_products" class="md-nav__link">
    <span class="md-ellipsis">
      drop_products
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProductCollection.from_iterable" class="md-nav__link">
    <span class="md-ellipsis">
      from_iterable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProductCollection.get_products" class="md-nav__link">
    <span class="md-ellipsis">
      get_products
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProductCollection.get_tags" class="md-nav__link">
    <span class="md-ellipsis">
      get_tags
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProductCollection.make_grafana_panels" class="md-nav__link">
    <span class="md-ellipsis">
      make_grafana_panels
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProductCollection.process_single_tag_collection" class="md-nav__link">
    <span class="md-ellipsis">
      process_single_tag_collection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProductCollection.sort_by_tags" class="md-nav__link">
    <span class="md-ellipsis">
      sort_by_tags
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProductCollection.union" class="md-nav__link">
    <span class="md-ellipsis">
      union
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProductGenerator" class="md-nav__link">
    <span class="md-ellipsis">
      DataProductGenerator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DataProductGenerator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProductGenerator.process_and_save" class="md-nav__link">
    <span class="md-ellipsis">
      process_and_save
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Format2D" class="md-nav__link">
    <span class="md-ellipsis">
      Format2D
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Format2D">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.Format2D.Config" class="md-nav__link">
    <span class="md-ellipsis">
      Config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Format2D.union_from_iterable" class="md-nav__link">
    <span class="md-ellipsis">
      union_from_iterable
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.HashableBase" class="md-nav__link">
    <span class="md-ellipsis">
      HashableBase
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HashableBase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.HashableBase.__hash__" class="md-nav__link">
    <span class="md-ellipsis">
      __hash__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.HistogramEntry" class="md-nav__link">
    <span class="md-ellipsis">
      HistogramEntry
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HistogramEntry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.HistogramEntry.Config" class="md-nav__link">
    <span class="md-ellipsis">
      Config
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.HistogramStyle" class="md-nav__link">
    <span class="md-ellipsis">
      HistogramStyle
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HistogramStyle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.HistogramStyle.as_plot_kwargs" class="md-nav__link">
    <span class="md-ellipsis">
      as_plot_kwargs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Histogrammer" class="md-nav__link">
    <span class="md-ellipsis">
      Histogrammer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Histogrammer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.Histogrammer.handle_histogram_entries" class="md-nav__link">
    <span class="md-ellipsis">
      handle_histogram_entries
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Histogrammer.plot" class="md-nav__link">
    <span class="md-ellipsis">
      plot
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Marker" class="md-nav__link">
    <span class="md-ellipsis">
      Marker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Marker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.Marker.Config" class="md-nav__link">
    <span class="md-ellipsis">
      Config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Marker.as_scatter_plot_kwargs" class="md-nav__link">
    <span class="md-ellipsis">
      as_scatter_plot_kwargs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Marker.from_pen" class="md-nav__link">
    <span class="md-ellipsis">
      from_pen
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Pen" class="md-nav__link">
    <span class="md-ellipsis">
      Pen
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pen">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.Pen.Config" class="md-nav__link">
    <span class="md-ellipsis">
      Config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Pen.as_scatter_plot_kwargs" class="md-nav__link">
    <span class="md-ellipsis">
      as_scatter_plot_kwargs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Point2D" class="md-nav__link">
    <span class="md-ellipsis">
      Point2D
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Point2D">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.Point2D.Config" class="md-nav__link">
    <span class="md-ellipsis">
      Config
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.SingleAxisFigure" class="md-nav__link">
    <span class="md-ellipsis">
      SingleAxisFigure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SingleAxisFigure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.SingleAxisFigure.__del__" class="md-nav__link">
    <span class="md-ellipsis">
      __del__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.SingleAxisFigure.apply_format" class="md-nav__link">
    <span class="md-ellipsis">
      apply_format
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.SingleAxisFigure.new" class="md-nav__link">
    <span class="md-ellipsis">
      new
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.SingleAxisFigure.savefig" class="md-nav__link">
    <span class="md-ellipsis">
      savefig
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.TableBuilder" class="md-nav__link">
    <span class="md-ellipsis">
      TableBuilder
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TableBuilder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.TableBuilder.get_stats_table" class="md-nav__link">
    <span class="md-ellipsis">
      get_stats_table
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.TableBuilder.load_table" class="md-nav__link">
    <span class="md-ellipsis">
      load_table
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.TableBuilder.process_table_entries" class="md-nav__link">
    <span class="md-ellipsis">
      process_table_entries
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.TableEntry" class="md-nav__link">
    <span class="md-ellipsis">
      TableEntry
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TableEntry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.TableEntry.get_entry_dict" class="md-nav__link">
    <span class="md-ellipsis">
      get_entry_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.TableEntry.load_and_pivot" class="md-nav__link">
    <span class="md-ellipsis">
      load_and_pivot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.TableEntry.pivot_table" class="md-nav__link">
    <span class="md-ellipsis">
      pivot_table
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Trace2D" class="md-nav__link">
    <span class="md-ellipsis">
      Trace2D
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Trace2D">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.Trace2D.x" class="md-nav__link">
    <span class="md-ellipsis">
      x
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Trace2D.y" class="md-nav__link">
    <span class="md-ellipsis">
      y
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Trace2D.Config" class="md-nav__link">
    <span class="md-ellipsis">
      Config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Trace2D.from_xy" class="md-nav__link">
    <span class="md-ellipsis">
      from_xy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Trace2D.plot_to_ax" class="md-nav__link">
    <span class="md-ellipsis">
      plot_to_ax
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Trace2D.propagate_format2d_and_pen" class="md-nav__link">
    <span class="md-ellipsis">
      propagate_format2d_and_pen
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.XYData" class="md-nav__link">
    <span class="md-ellipsis">
      XYData
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.XYDataPlotter" class="md-nav__link">
    <span class="md-ellipsis">
      XYDataPlotter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="XYDataPlotter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.XYDataPlotter.handle_points_and_traces" class="md-nav__link">
    <span class="md-ellipsis">
      handle_points_and_traces
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.XYDataPlotter.plot" class="md-nav__link">
    <span class="md-ellipsis">
      plot
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.atleast_1d" class="md-nav__link">
    <span class="md-ellipsis">
      atleast_1d
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.flatten" class="md-nav__link">
    <span class="md-ellipsis">
      flatten
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.get_sorted_dirs" class="md-nav__link">
    <span class="md-ellipsis">
      get_sorted_dirs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.main" class="md-nav__link">
    <span class="md-ellipsis">
      main
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.make_grafana_dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      make_grafana_dashboard
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.make_include_files" class="md-nav__link">
    <span class="md-ellipsis">
      make_include_files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.make_products" class="md-nav__link">
    <span class="md-ellipsis">
      make_products
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.make_sample_data" class="md-nav__link">
    <span class="md-ellipsis">
      make_sample_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.make_tables_and_figures" class="md-nav__link">
    <span class="md-ellipsis">
      make_tables_and_figures
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.map_callable" class="md-nav__link">
    <span class="md-ellipsis">
      map_callable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.process_batch" class="md-nav__link">
    <span class="md-ellipsis">
      process_batch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.sample_processor" class="md-nav__link">
    <span class="md-ellipsis">
      sample_processor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.should_be_flattened" class="md-nav__link">
    <span class="md-ellipsis">
      should_be_flattened
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.sort_products" class="md-nav__link">
    <span class="md-ellipsis">
      sort_products
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.squeeze" class="md-nav__link">
    <span class="md-ellipsis">
      squeeze
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    server
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#trendify.products" class="md-nav__link">
    <span class="md-ellipsis">
      products
    </span>
  </a>
  
    <nav class="md-nav" aria-label="products">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.DATA_PRODUCTS_FNAME" class="md-nav__link">
    <span class="md-ellipsis">
      DATA_PRODUCTS_FNAME
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Tag" class="md-nav__link">
    <span class="md-ellipsis">
      Tag
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Tags" class="md-nav__link">
    <span class="md-ellipsis">
      Tags
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProduct" class="md-nav__link">
    <span class="md-ellipsis">
      DataProduct
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DataProduct">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProduct.Config" class="md-nav__link">
    <span class="md-ellipsis">
      Config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProduct.__init_subclass__" class="md-nav__link">
    <span class="md-ellipsis">
      __init_subclass__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProduct.append_to_list" class="md-nav__link">
    <span class="md-ellipsis">
      append_to_list
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProduct.deserialize_child_classes" class="md-nav__link">
    <span class="md-ellipsis">
      deserialize_child_classes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProductCollection" class="md-nav__link">
    <span class="md-ellipsis">
      DataProductCollection
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DataProductCollection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProductCollection.add_products" class="md-nav__link">
    <span class="md-ellipsis">
      add_products
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProductCollection.collect_from_all_jsons" class="md-nav__link">
    <span class="md-ellipsis">
      collect_from_all_jsons
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProductCollection.drop_products" class="md-nav__link">
    <span class="md-ellipsis">
      drop_products
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProductCollection.from_iterable" class="md-nav__link">
    <span class="md-ellipsis">
      from_iterable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProductCollection.get_products" class="md-nav__link">
    <span class="md-ellipsis">
      get_products
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProductCollection.get_tags" class="md-nav__link">
    <span class="md-ellipsis">
      get_tags
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProductCollection.make_grafana_panels" class="md-nav__link">
    <span class="md-ellipsis">
      make_grafana_panels
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProductCollection.process_single_tag_collection" class="md-nav__link">
    <span class="md-ellipsis">
      process_single_tag_collection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProductCollection.sort_by_tags" class="md-nav__link">
    <span class="md-ellipsis">
      sort_by_tags
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProductCollection.union" class="md-nav__link">
    <span class="md-ellipsis">
      union
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProductGenerator" class="md-nav__link">
    <span class="md-ellipsis">
      DataProductGenerator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DataProductGenerator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.DataProductGenerator.process_and_save" class="md-nav__link">
    <span class="md-ellipsis">
      process_and_save
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Format2D" class="md-nav__link">
    <span class="md-ellipsis">
      Format2D
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Format2D">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.Format2D.Config" class="md-nav__link">
    <span class="md-ellipsis">
      Config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Format2D.union_from_iterable" class="md-nav__link">
    <span class="md-ellipsis">
      union_from_iterable
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.HashableBase" class="md-nav__link">
    <span class="md-ellipsis">
      HashableBase
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HashableBase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.HashableBase.__hash__" class="md-nav__link">
    <span class="md-ellipsis">
      __hash__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.HistogramEntry" class="md-nav__link">
    <span class="md-ellipsis">
      HistogramEntry
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HistogramEntry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.HistogramEntry.Config" class="md-nav__link">
    <span class="md-ellipsis">
      Config
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.HistogramStyle" class="md-nav__link">
    <span class="md-ellipsis">
      HistogramStyle
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HistogramStyle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.HistogramStyle.as_plot_kwargs" class="md-nav__link">
    <span class="md-ellipsis">
      as_plot_kwargs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Histogrammer" class="md-nav__link">
    <span class="md-ellipsis">
      Histogrammer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Histogrammer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.Histogrammer.handle_histogram_entries" class="md-nav__link">
    <span class="md-ellipsis">
      handle_histogram_entries
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Histogrammer.plot" class="md-nav__link">
    <span class="md-ellipsis">
      plot
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Marker" class="md-nav__link">
    <span class="md-ellipsis">
      Marker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Marker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.Marker.Config" class="md-nav__link">
    <span class="md-ellipsis">
      Config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Marker.as_scatter_plot_kwargs" class="md-nav__link">
    <span class="md-ellipsis">
      as_scatter_plot_kwargs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Marker.from_pen" class="md-nav__link">
    <span class="md-ellipsis">
      from_pen
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Pen" class="md-nav__link">
    <span class="md-ellipsis">
      Pen
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pen">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.Pen.Config" class="md-nav__link">
    <span class="md-ellipsis">
      Config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Pen.as_scatter_plot_kwargs" class="md-nav__link">
    <span class="md-ellipsis">
      as_scatter_plot_kwargs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Point2D" class="md-nav__link">
    <span class="md-ellipsis">
      Point2D
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Point2D">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.Point2D.Config" class="md-nav__link">
    <span class="md-ellipsis">
      Config
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.SingleAxisFigure" class="md-nav__link">
    <span class="md-ellipsis">
      SingleAxisFigure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SingleAxisFigure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.SingleAxisFigure.__del__" class="md-nav__link">
    <span class="md-ellipsis">
      __del__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.SingleAxisFigure.apply_format" class="md-nav__link">
    <span class="md-ellipsis">
      apply_format
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.SingleAxisFigure.new" class="md-nav__link">
    <span class="md-ellipsis">
      new
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.SingleAxisFigure.savefig" class="md-nav__link">
    <span class="md-ellipsis">
      savefig
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.TableBuilder" class="md-nav__link">
    <span class="md-ellipsis">
      TableBuilder
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TableBuilder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.TableBuilder.get_stats_table" class="md-nav__link">
    <span class="md-ellipsis">
      get_stats_table
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.TableBuilder.load_table" class="md-nav__link">
    <span class="md-ellipsis">
      load_table
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.TableBuilder.process_table_entries" class="md-nav__link">
    <span class="md-ellipsis">
      process_table_entries
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.TableEntry" class="md-nav__link">
    <span class="md-ellipsis">
      TableEntry
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TableEntry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.TableEntry.get_entry_dict" class="md-nav__link">
    <span class="md-ellipsis">
      get_entry_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.TableEntry.load_and_pivot" class="md-nav__link">
    <span class="md-ellipsis">
      load_and_pivot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.TableEntry.pivot_table" class="md-nav__link">
    <span class="md-ellipsis">
      pivot_table
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Trace2D" class="md-nav__link">
    <span class="md-ellipsis">
      Trace2D
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Trace2D">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.Trace2D.x" class="md-nav__link">
    <span class="md-ellipsis">
      x
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Trace2D.y" class="md-nav__link">
    <span class="md-ellipsis">
      y
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Trace2D.Config" class="md-nav__link">
    <span class="md-ellipsis">
      Config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Trace2D.from_xy" class="md-nav__link">
    <span class="md-ellipsis">
      from_xy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Trace2D.plot_to_ax" class="md-nav__link">
    <span class="md-ellipsis">
      plot_to_ax
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.Trace2D.propagate_format2d_and_pen" class="md-nav__link">
    <span class="md-ellipsis">
      propagate_format2d_and_pen
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.XYData" class="md-nav__link">
    <span class="md-ellipsis">
      XYData
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.XYDataPlotter" class="md-nav__link">
    <span class="md-ellipsis">
      XYDataPlotter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="XYDataPlotter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trendify.products.XYDataPlotter.handle_points_and_traces" class="md-nav__link">
    <span class="md-ellipsis">
      handle_points_and_traces
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.XYDataPlotter.plot" class="md-nav__link">
    <span class="md-ellipsis">
      plot
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.atleast_1d" class="md-nav__link">
    <span class="md-ellipsis">
      atleast_1d
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.flatten" class="md-nav__link">
    <span class="md-ellipsis">
      flatten
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.get_sorted_dirs" class="md-nav__link">
    <span class="md-ellipsis">
      get_sorted_dirs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.main" class="md-nav__link">
    <span class="md-ellipsis">
      main
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.make_grafana_dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      make_grafana_dashboard
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.make_include_files" class="md-nav__link">
    <span class="md-ellipsis">
      make_include_files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.make_products" class="md-nav__link">
    <span class="md-ellipsis">
      make_products
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.make_sample_data" class="md-nav__link">
    <span class="md-ellipsis">
      make_sample_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.make_tables_and_figures" class="md-nav__link">
    <span class="md-ellipsis">
      make_tables_and_figures
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.map_callable" class="md-nav__link">
    <span class="md-ellipsis">
      map_callable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.process_batch" class="md-nav__link">
    <span class="md-ellipsis">
      process_batch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.sample_processor" class="md-nav__link">
    <span class="md-ellipsis">
      sample_processor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.should_be_flattened" class="md-nav__link">
    <span class="md-ellipsis">
      should_be_flattened
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.sort_products" class="md-nav__link">
    <span class="md-ellipsis">
      sort_products
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trendify.products.squeeze" class="md-nav__link">
    <span class="md-ellipsis">
      squeeze
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>products</h1>

<div class="doc doc-object doc-module">



<h2 id="trendify.products" class="doc doc-heading">
            <span class="doc doc-object-name doc-module-name">trendify.products</span>


<a href="#trendify.products" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents first">

        <p>Module for generating, sorting, and plotting data products.<br />
This uses pydantic dataclasses for JSON serialization to avoid overloading system memory.</p>
<p>Some important learning material for pydantic classes and JSON (de)serialization:</p>
<ul>
<li><a href="https://bugbytes.io/posts/pydantic-nested-models-and-json-schemas/">Nested Pydantic Models</a></li>
<li><a href="https://blog.devgenius.io/deserialize-child-classes-with-pydantic-that-gonna-work-784230e1cf83">Deserializing Child Classes</a></li>
</ul>


<p><span class="doc-section-title">Attributes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><a class="autorefs autorefs-internal" title="trendify.products.DATA_PRODUCTS_FNAME" href="#trendify.products.DATA_PRODUCTS_FNAME">DATA_PRODUCTS_FNAME</a></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>)
          
          <div class="doc-md-description">
            <p>Hard-coded json file name 'data_products.json'</p>
          </div>
        </li>
    </ul>








  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="trendify.products.DATA_PRODUCTS_FNAME" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">DATA_PRODUCTS_FNAME</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#trendify.products.DATA_PRODUCTS_FNAME" class="headerlink" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code class="language-python doc-signature">DATA_PRODUCTS_FNAME = 'data_products.json'</code></pre>

    <div class="doc doc-contents ">

        <p>Hard-coded file name for storing data products in batch-processed input directories.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="trendify.products.Tag" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">Tag</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#trendify.products.Tag" class="headerlink" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code class="language-python doc-signature">Tag = <a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple">Tuple</a>[<a class="autorefs autorefs-external" title="typing.Hashable" href="https://docs.python.org/3/library/typing.html#typing.Hashable">Hashable</a>, ...], <a class="autorefs autorefs-external" title="typing.Hashable" href="https://docs.python.org/3/library/typing.html#typing.Hashable">Hashable</a>]</code></pre>

    <div class="doc doc-contents ">

        <p>Determines what types can be used to define a tag</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="trendify.products.Tags" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">Tags</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#trendify.products.Tags" class="headerlink" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code class="language-python doc-signature">Tags = <a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-internal" title="trendify.products.Tag" href="#trendify.products.Tag">Tag</a>]</code></pre>

    <div class="doc doc-contents ">

        <p>List of tags</p>
    </div>

</div>


<div class="doc doc-object doc-class">



<h3 id="trendify.products.DataProduct" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">DataProduct</span>


<a href="#trendify.products.DataProduct" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-external" title="pydantic.BaseModel" href="https://docs.pydantic.dev/latest/api/base_model/#pydantic.BaseModel">BaseModel</a></code></p>


        <p>Base class for data products to be generated and handled.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.DataProduct.product_type">product_type</span></code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Hashable" href="https://docs.python.org/3/library/typing.html#typing.Hashable">Hashable</a></code>)
          
          <div class="doc-md-description">
            <p>Product type should be the same as the class name.
The product type is used to search for products from a <a class="autorefs autorefs-internal" href="#trendify.products.DataProductCollection">DataProductCollection</a>.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.DataProduct.tags">tags</span></code></b>
              (<code><a class="autorefs autorefs-internal" title="trendify.products.Tags" href="#trendify.products.Tags">Tags</a></code>)
          
          <div class="doc-md-description">
            <p>Tags to be used for sorting data.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.DataProduct.metadata">metadata</span></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>)
          
          <div class="doc-md-description">
            <p>A dictionary of metadata to be used as a tool tip for mousover in grafana</p>
          </div>
        </li>
    </ul>






              <details class="quote">
                <summary>Source code in <code>src/trendify/products.py</code></summary>
                <pre class="highlight"><code class="language-python">class DataProduct(BaseModel):
    """
    Base class for data products to be generated and handled.

    Attributes:
        product_type (Hashable): Product type should be the same as the class name.
            The product type is used to search for products from a [DataProductCollection][trendify.products.DataProductCollection].
        tags (Tags): Tags to be used for sorting data.
        metadata (dict[str, str]): A dictionary of metadata to be used as a tool tip for mousover in grafana
    """
    product_type: Hashable
    tags: Tags
    metadata: dict[str, str] = {}

    def __init_subclass__(cls, **kwargs: Any) -&gt; None:
        """
        Registers child subclasses to be able to parse them from JSON file using the 
        [deserialize_child_classes][trendify.products.DataProduct.deserialize_child_classes] method
        """
        super().__init_subclass__(**kwargs)
        _data_product_subclass_registry[cls.__name__] = cls    

    class Config:
        """
        Disallows additional attributes
        """
        extra = "allow"  

    def append_to_list(self, l: List):
        """
        Appends self to list.

        Args:
            l (List): list to which `self` will be appended

        Returns:
            (Self): returns instance of `self`
        """
        l.append(self)
        return self

    @classmethod
    def deserialize_child_classes(cls, key: str, **kwargs):
        """
        Loads json data to pydandic dataclass of whatever DataProduct child time is appropriate

        Args:
            key (str): json key
            kwargs (dict): json entries stored under given key
        """
        type_key = 'product_type'
        elements = kwargs.get(key, None)
        if elements:
            for index in range(len(kwargs[key])):
                current_duck = kwargs[key][index]
                if isinstance(current_duck, dict):
                    item_duck_type = current_duck[type_key]
                    for _, subclass in _data_product_subclass_registry.items():
                        registery_duck_type = subclass.__fields__[type_key].default
                        if item_duck_type == registery_duck_type:
                            current_duck = subclass(**current_duck) 
                            break
                    kwargs[key][index] = current_duck</code></pre>
              </details>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="trendify.products.DataProduct.Config" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">Config</span>


<a href="#trendify.products.DataProduct.Config" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">


        <p>Disallows additional attributes</p>






              <details class="quote">
                <summary>Source code in <code>src/trendify/products.py</code></summary>
                <pre class="highlight"><code class="language-python">class Config:
    """
    Disallows additional attributes
    """
    extra = "allow"  </code></pre>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h4 id="trendify.products.DataProduct.__init_subclass__" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">__init_subclass__</span>


<a href="#trendify.products.DataProduct.__init_subclass__" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">__init_subclass__(**kwargs: <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a>) -&gt; None</code></pre>

    <div class="doc doc-contents ">

        <p>Registers child subclasses to be able to parse them from JSON file using the 
<a class="autorefs autorefs-internal" href="#trendify.products.DataProduct.deserialize_child_classes">deserialize_child_classes</a> method</p>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def __init_subclass__(cls, **kwargs: Any) -&gt; None:
    """
    Registers child subclasses to be able to parse them from JSON file using the 
    [deserialize_child_classes][trendify.products.DataProduct.deserialize_child_classes] method
    """
    super().__init_subclass__(**kwargs)
    _data_product_subclass_registry[cls.__name__] = cls    </code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="trendify.products.DataProduct.append_to_list" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">append_to_list</span>


<a href="#trendify.products.DataProduct.append_to_list" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">append_to_list(l: <a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>)</code></pre>

    <div class="doc doc-contents ">

        <p>Appends self to list.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>l</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a></code>)
          
          <div class="doc-md-description">
            <p>list to which <code>self</code> will be appended</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" title="typing.Self" href="https://docs.python.org/3/library/typing.html#typing.Self">Self</a></code>
          
          <div class="doc-md-description">
            <p>returns instance of <code>self</code></p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def append_to_list(self, l: List):
    """
    Appends self to list.

    Args:
        l (List): list to which `self` will be appended

    Returns:
        (Self): returns instance of `self`
    """
    l.append(self)
    return self</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="trendify.products.DataProduct.deserialize_child_classes" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">deserialize_child_classes</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#trendify.products.DataProduct.deserialize_child_classes" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">deserialize_child_classes(key: <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, **kwargs)</code></pre>

    <div class="doc doc-contents ">

        <p>Loads json data to pydandic dataclass of whatever DataProduct child time is appropriate</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>key</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>)
          
          <div class="doc-md-description">
            <p>json key</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>kwargs</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>, default:
                  <code>{}</code>
)
          
          <div class="doc-md-description">
            <p>json entries stored under given key</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">@classmethod
def deserialize_child_classes(cls, key: str, **kwargs):
    """
    Loads json data to pydandic dataclass of whatever DataProduct child time is appropriate

    Args:
        key (str): json key
        kwargs (dict): json entries stored under given key
    """
    type_key = 'product_type'
    elements = kwargs.get(key, None)
    if elements:
        for index in range(len(kwargs[key])):
            current_duck = kwargs[key][index]
            if isinstance(current_duck, dict):
                item_duck_type = current_duck[type_key]
                for _, subclass in _data_product_subclass_registry.items():
                    registery_duck_type = subclass.__fields__[type_key].default
                    if item_duck_type == registery_duck_type:
                        current_duck = subclass(**current_duck) 
                        break
                kwargs[key][index] = current_duck</code></pre>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="trendify.products.DataProductCollection" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">DataProductCollection</span>


<a href="#trendify.products.DataProductCollection" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-external" title="pydantic.BaseModel" href="https://docs.pydantic.dev/latest/api/base_model/#pydantic.BaseModel">BaseModel</a></code></p>


        <p>A collection of data products.</p>
<p>Use this class to serialize data products to JSON, de-serialized them from JSON, filter the products, etc.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.DataProductCollection.elements">elements</span></code></b>
              (<code><span title="trendify.products.ProductList">ProductList</span></code>)
          
          <div class="doc-md-description">
            <p>A list of data products.</p>
          </div>
        </li>
    </ul>






              <details class="quote">
                <summary>Source code in <code>src/trendify/products.py</code></summary>
                <pre class="highlight"><code class="language-python">class DataProductCollection(BaseModel):
    """
    A collection of data products.

    Use this class to serialize data products to JSON, de-serialized them from JSON, filter the products, etc.

    Attributes:
        elements (ProductList): A list of data products.
    """
    elements: ProductList | None = None

    def __init__(self, **kwargs):
        DataProduct.deserialize_child_classes(key='elements', **kwargs)                
        super().__init__(**kwargs)

    @classmethod
    def from_iterable(cls, *products: Tuple[ProductList, ...]):
        """
        Returns a new instance containing all of the products provided in the `*products` argument.

        Args:
            products (Tuple[ProductList, ...]): Lists of data products to combine into a collection

        Returns:
            (cls): A data product collection containing all of the provided products in the `*products` argument.
        """
        return cls(elements=list(flatten(products)))

    def get_tags(self, data_product_type: Type[DataProduct] | None = None) -&gt; set:
        """
        Gets the tags related to a given type of `DataProduct`.  Parent classes will match all child class types.

        Args:
            data_product_type (Type[DataProduct] | None): type for which you want to get the list of tags

        Returns:
            (set): set of tags applying to the given `data_product_type`.
        """
        tags = []
        for e in flatten(self.elements):
            if data_product_type is None or isinstance(e, data_product_type):
                for t in e.tags:
                    tags.append(t)
        return set(tags)

    def add_products(self, *products: DataProduct):
        """
        Args:
            products (Tuple[DataProduct|ProductList, ...]): Products or lists of products to be
                appended to collection elements.  
        """
        self.elements.extend(flatten(products))

    # def convert_traces_to_points(self):
    #     constructor = type(self)
    #     unchanged_elements = self.drop_products(object_type=Trace2D).elements
    #     traces: List[Trace2D] = self.get_products(object_type=Trace2D).elements
    #     trace_points = [t.propagate_format2d_and_pen for t in traces]
    #     return constructor(elements=unchanged_elements)

    # @classmethod
    # def get_tags_from_file(cls, subdir: Path):
    #     """
    #     DEPRICATED

    #     Reads file and returns the tags in each type of tag set.

    #     Returns:
    #         (TagSets): a data class holding the tags of each type in set objects.
    #     """
    #     collection = DataProductCollection.model_validate_json(subdir.joinpath(DATA_PRODUCTS_FNAME).read_text())
    #     tags = TagSets(
    #         XYData=collection.get_tags(XYData), 
    #         TableEntry=collection.get_tags(TableEntry),
    #         HistogramEntry=collection.get_tags(HistogramEntry),
    #     )
    #     return tags

    def drop_products(self, tag: Hashable | None = None, object_type: Type[R] | None = None) -&gt; Self[R]:
        """
        Removes products matching `tag` and/or `object_type` from collection elements.

        Args:
            tag (Tag | None): Tag for which data products should be dropped
            object_type (Type | None): Type of data product to drop

        Returns:
            (DataProductCollection): A new collection from which matching elements have been dropped.
        """
        match_key = tag is None, object_type is None
        match match_key:
            case (True, True):
                return type(self)(elements=self.elements)
            case (True, False):
                return type(self)(elements=[e for e in self.elements if not isinstance(e, object_type)])
            case (False, True):
                return type(self)(elements=[e for e in self.elements if not tag in e.tags])
            case (False, False):
                return type(self)(elements=[e for e in self.elements if not (tag in e.tags and isinstance(e, object_type))])
            case _:
                raise ValueError('Something is wrong with match statement')

    def get_products(self, tag: Hashable | None = None, object_type: Type[R] | None = None) -&gt; Self[R]:
        """
        Returns a new collection containing products matching `tag` and/or `object_type`.
        Both `tag` and `object_type` default to `None` which matches all products.

        Args:
            tag (Tag | None): Tag of data products to be kept.  `None` matches all products.
            object_type (Type | None): Type of data product to keep.  `None` matches all products.

        Returns:
            (DataProductCollection): A new collection containing matching elements.
        """
        match_key = tag is None, object_type is None
        match match_key:
            case (True, True):
                return type(self)(elements=self.elements)
            case (True, False):
                return type(self)(elements=[e for e in self.elements if isinstance(e, object_type)])
            case (False, True):
                return type(self)(elements=[e for e in self.elements if tag in e.tags])
            case (False, False):
                return type(self)(elements=[e for e in self.elements if tag in e.tags and isinstance(e, object_type)])
            case _:
                raise ValueError('Something is wrong with match statement')

    @classmethod
    def union(cls, *collections: DataProductCollection):
        """
        Aggregates all of the products from multiple collections into a new larger collection.

        Args:
            collections (Tuple[DataProductCollection, ...]): Data product collections
                for which the products should be combined into a new collection.

        Returns:
            (Type[Self]): A new data product collection containing all products from
                the provided `*collections`.
        """
        return cls(elements=list(flatten(chain(c.elements for c in collections))))

    @classmethod
    def collect_from_all_jsons(cls, *dirs: Path, recursive=False):
        """
        Loads all products from JSONs in the given list of directories.  
        If recursive is set to `True`, the directories will be searched recursively 
        (this could lead to double counting if you pass in subdirectories of a parent).

        Args:
            dirs (Tuple[Path, ...]): Directories from which to load data product JSON files.
            recursive (bool): whether or not to search each of the provided directories recursively for 
                data product json files.

        Returns:
            (Type[Self] | None): Data product collection if JSON files are found.  
                Otherwise, returns None if no product JSON files were found.
        """
        if not recursive:
            jsons: List[Path] = list(flatten(chain(list(d.glob('*.json')) for d in dirs)))
        else:
            jsons: List[Path] = list(flatten(chain(list(d.glob('**/*.json')) for d in dirs)))
        if jsons:
            return cls.union(
                *tuple(
                    [
                        cls.model_validate_json(p.read_text())
                        for p in jsons
                    ]
                )
            )
        else:
            return None

    @classmethod
    def sort_by_tags(cls, dirs_in: List[Path], dir_out: Path):
        """
        Loads the data product JSON files from `dirs_in` sorts the products.
        Sorted products are written to smaller files in a nested directory structure under `dir_out`.
        The nested directory structure is generated accordint to the data tags.
        Resulting product files are named according to the directory from which they were originally loaded.

        Args:
            dirs_in (List[Path]): Directories from which the data product JSON files are to be loaded.
            dir_out (Path): Directory to which the sorted data products will be written into a 
                nested folder structure generated according to the data tags.
        """
        dirs_in = list(dirs_in)
        dirs_in.sort()
        len_dirs = len(dirs_in)
        for n, d in enumerate(dirs_in):
            print(f'Collecting tagged data from dir {n}/{len_dirs}', end=f'\r')
            collection = DataProductCollection.model_validate_json(
                d.joinpath(DATA_PRODUCTS_FNAME).read_text()
            )
            tags = collection.get_tags()
            for tag in tags:
                sub_collection = collection.get_products(tag=tag)
                save_to = dir_out.joinpath(*atleast_1d(tag))
                save_to.mkdir(parents=True, exist_ok=True)
                save_to.joinpath(d.name).with_suffix('.json').write_text(sub_collection.model_dump_json(
                    indent=4
                ))

    @classmethod
    def process_single_tag_collection(
            cls,
            dir_in: Path,
            dir_out: Path,
            make_tables: bool,
            make_xy_plots: bool,
            make_histograms: bool,
            dpi: int,
        ):
        """
        Processes collection of elements corresponding to a single tag.
        This method should be called on a directory containing jsons for which the products have been
        sorted.

        Args:
            dir_in (Path):
            dir_out (Path):
            make_tables (bool):
            make_xy_plots (bool):
            make_histograms (bool):
            dpi (int):
        """

        collection = cls.collect_from_all_jsons(dir_in)

        if collection is not None:

            [tag] = collection.get_tags()

            if make_tables:

                table_entries: List[TableEntry] = collection.get_products(tag=tag, object_type=TableEntry).elements

                if table_entries:
                    print(f'\n\nMaking tables for {tag = }\n')
                    TableBuilder.process_table_entries(
                        tag=tag,
                        table_entries=table_entries,
                        out_dir=dir_out
                    )
                    print(f'\nFinished tables for {tag = }\n')

            if make_xy_plots:

                traces: List[Trace2D] = collection.get_products(tag=tag, object_type=Trace2D).elements
                points: List[Point2D] = collection.get_products(tag=tag, object_type=Point2D).elements

                if points or traces:
                    print(f'\n\nMaking xy plot for {tag = }\n')
                    XYDataPlotter.handle_points_and_traces(
                        tag=tag,
                        points=points,
                        traces=traces,
                        dir_out=dir_out,
                        dpi=dpi,
                    )
                    print(f'\nFinished xy plot for {tag = }\n')

            if make_histograms:
                histogram_entries: List[HistogramEntry] = collection.get_products(tag=tag, object_type=HistogramEntry).elements

                if histogram_entries:
                    print(f'\n\nMaking histogram for {tag = }\n')
                    Histogrammer.handle_histogram_entries(
                        tag=tag,
                        histogram_entries=histogram_entries,
                        dir_out=dir_out,
                        dpi=dpi
                    )
                    print(f'\nFinished histogram for {tag = }\n')


    @classmethod
    def make_grafana_panels(
            cls,
            dir_in: Path,
            panel_dir: Path,
        ):
        """
        Processes collection of elements corresponding to a single tag.
        This method should be called on a directory containing jsons for which the products have been
        sorted.

        Args:
            dir_in (Path): Directory from which to read data products (should be sorted first)
            panel_dir (Path): Where to put the panel information
        """

        collection = cls.collect_from_all_jsons(dir_in)
        panel_dir.mkdir(parents=True, exist_ok=True)

        if collection is not None:
            server_path = 'http://localhost:8000/data_products/workdir.products/'  # [ ] this should not be hard coded

            for tag in collection.get_tags():


                dot_tag = '.'.join([str(t) for t in tag]) if should_be_flattened(tag) else tag
                underscore_tag = '_'.join([str(t) for t in tag]) if should_be_flattened(tag) else tag

                table_entries: List[TableEntry] = collection.get_products(tag=tag, object_type=TableEntry).elements

                if table_entries:
                    print(f'\n\nMaking tables for {tag = }\n')
                    panel = gapi.Panel(
                        targets=[
                            gapi.Target(
                                datasource=gapi.DataSource(),
                                url='/'.join([server_path.strip('/'), dot_tag, 'TableEntry']),
                                uql=UQL_TableEntry,
                            )
                        ],
                        type='table',
                    )
                    panel_dir.joinpath(underscore_tag + '_table_panel.json').write_text(panel.model_dump_json(indent=4))
                    print(f'\nFinished tables for {tag = }\n')

                traces: List[Trace2D] = collection.get_products(tag=tag, object_type=Trace2D).elements
                points: List[Point2D] = collection.get_products(tag=tag, object_type=Point2D).elements

                if points or traces:
                    print(f'\n\nMaking xy chart for {tag = }\n')
                    panel = gapi.Panel(
                        targets=[
                            gapi.Target(
                                datasource=gapi.DataSource(),
                                url='/'.join([server_path.strip('/'), dot_tag, 'Point2D']),
                                uql=UQL_Point2D,
                                refId='A',
                            ),
                            gapi.Target(
                                datasource=gapi.DataSource(),
                                url='/'.join([server_path.strip('/'), dot_tag, 'Trace2D']),
                                uql=UQL_Trace2D,
                                refId='B',
                            )
                        ],
                        transformations=[
                            gapi.Merge(),
                            gapi.PartitionByValues.from_fields(
                                fields='label',
                                keep_fields=False,
                                fields_as_labels=False,
                            )
                        ],
                        type='xychart',
                    )
                    panel_dir.joinpath(underscore_tag + '_xy_panel.json').write_text(panel.model_dump_json(indent=4))
                    print(f'\nFinished xy plot for {tag = }\n')</code></pre>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="trendify.products.DataProductCollection.add_products" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">add_products</span>


<a href="#trendify.products.DataProductCollection.add_products" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">add_products(*products: <a class="autorefs autorefs-internal" title="trendify.products.DataProduct" href="#trendify.products.DataProduct">DataProduct</a>)</code></pre>

    <div class="doc doc-contents ">



<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>products</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple">Tuple</a>[<a class="autorefs autorefs-internal" title="trendify.products.DataProduct" href="#trendify.products.DataProduct">DataProduct</a> | <span title="trendify.products.ProductList">ProductList</span>, ...]</code>, default:
                  <code>()</code>
)
          
          <div class="doc-md-description">
            <p>Products or lists of products to be
appended to collection elements.</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def add_products(self, *products: DataProduct):
    """
    Args:
        products (Tuple[DataProduct|ProductList, ...]): Products or lists of products to be
            appended to collection elements.  
    """
    self.elements.extend(flatten(products))</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="trendify.products.DataProductCollection.collect_from_all_jsons" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">collect_from_all_jsons</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#trendify.products.DataProductCollection.collect_from_all_jsons" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">collect_from_all_jsons(*dirs: <a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>, recursive=False)</code></pre>

    <div class="doc doc-contents ">

        <p>Loads all products from JSONs in the given list of directories.<br />
If recursive is set to <code>True</code>, the directories will be searched recursively 
(this could lead to double counting if you pass in subdirectories of a parent).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>dirs</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple">Tuple</a>[<a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>, ...]</code>, default:
                  <code>()</code>
)
          
          <div class="doc-md-description">
            <p>Directories from which to load data product JSON files.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>recursive</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>False</code>
)
          
          <div class="doc-md-description">
            <p>whether or not to search each of the provided directories recursively for 
data product json files.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" title="typing.Type" href="https://docs.python.org/3/library/typing.html#typing.Type">Type</a>[<a class="autorefs autorefs-external" title="typing.Self" href="https://docs.python.org/3/library/typing.html#typing.Self">Self</a>] | None</code>
          
          <div class="doc-md-description">
            <p>Data product collection if JSON files are found.<br />
Otherwise, returns None if no product JSON files were found.</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">@classmethod
def collect_from_all_jsons(cls, *dirs: Path, recursive=False):
    """
    Loads all products from JSONs in the given list of directories.  
    If recursive is set to `True`, the directories will be searched recursively 
    (this could lead to double counting if you pass in subdirectories of a parent).

    Args:
        dirs (Tuple[Path, ...]): Directories from which to load data product JSON files.
        recursive (bool): whether or not to search each of the provided directories recursively for 
            data product json files.

    Returns:
        (Type[Self] | None): Data product collection if JSON files are found.  
            Otherwise, returns None if no product JSON files were found.
    """
    if not recursive:
        jsons: List[Path] = list(flatten(chain(list(d.glob('*.json')) for d in dirs)))
    else:
        jsons: List[Path] = list(flatten(chain(list(d.glob('**/*.json')) for d in dirs)))
    if jsons:
        return cls.union(
            *tuple(
                [
                    cls.model_validate_json(p.read_text())
                    for p in jsons
                ]
            )
        )
    else:
        return None</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="trendify.products.DataProductCollection.drop_products" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">drop_products</span>


<a href="#trendify.products.DataProductCollection.drop_products" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">drop_products(
    tag: <a class="autorefs autorefs-external" title="typing.Hashable" href="https://docs.python.org/3/library/typing.html#typing.Hashable">Hashable</a> | None = None,
    object_type: <a class="autorefs autorefs-external" title="typing.Type" href="https://docs.python.org/3/library/typing.html#typing.Type">Type</a>[<span title="trendify.products.R">R</span>] | None = None,
) -&gt; <a class="autorefs autorefs-external" title="typing.Self" href="https://docs.python.org/3/library/typing.html#typing.Self">Self</a>[<span title="trendify.products.R">R</span>]</code></pre>

    <div class="doc doc-contents ">

        <p>Removes products matching <code>tag</code> and/or <code>object_type</code> from collection elements.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>tag</code></b>
              (<code><a class="autorefs autorefs-internal" title="trendify.products.Tag" href="#trendify.products.Tag">Tag</a> | None</code>, default:
                  <code>None</code>
)
          
          <div class="doc-md-description">
            <p>Tag for which data products should be dropped</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>object_type</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Type" href="https://docs.python.org/3/library/typing.html#typing.Type">Type</a> | None</code>, default:
                  <code>None</code>
)
          
          <div class="doc-md-description">
            <p>Type of data product to drop</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-internal" title="trendify.products.DataProductCollection" href="#trendify.products.DataProductCollection">DataProductCollection</a></code>
          
          <div class="doc-md-description">
            <p>A new collection from which matching elements have been dropped.</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def drop_products(self, tag: Hashable | None = None, object_type: Type[R] | None = None) -&gt; Self[R]:
    """
    Removes products matching `tag` and/or `object_type` from collection elements.

    Args:
        tag (Tag | None): Tag for which data products should be dropped
        object_type (Type | None): Type of data product to drop

    Returns:
        (DataProductCollection): A new collection from which matching elements have been dropped.
    """
    match_key = tag is None, object_type is None
    match match_key:
        case (True, True):
            return type(self)(elements=self.elements)
        case (True, False):
            return type(self)(elements=[e for e in self.elements if not isinstance(e, object_type)])
        case (False, True):
            return type(self)(elements=[e for e in self.elements if not tag in e.tags])
        case (False, False):
            return type(self)(elements=[e for e in self.elements if not (tag in e.tags and isinstance(e, object_type))])
        case _:
            raise ValueError('Something is wrong with match statement')</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="trendify.products.DataProductCollection.from_iterable" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">from_iterable</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#trendify.products.DataProductCollection.from_iterable" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">from_iterable(*products: <a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple">Tuple</a>[<span title="trendify.products.ProductList">ProductList</span>, ...])</code></pre>

    <div class="doc doc-contents ">

        <p>Returns a new instance containing all of the products provided in the <code>*products</code> argument.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>products</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple">Tuple</a>[<span title="trendify.products.ProductList">ProductList</span>, ...]</code>, default:
                  <code>()</code>
)
          
          <div class="doc-md-description">
            <p>Lists of data products to combine into a collection</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code>cls</code>
          
          <div class="doc-md-description">
            <p>A data product collection containing all of the provided products in the <code>*products</code> argument.</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">@classmethod
def from_iterable(cls, *products: Tuple[ProductList, ...]):
    """
    Returns a new instance containing all of the products provided in the `*products` argument.

    Args:
        products (Tuple[ProductList, ...]): Lists of data products to combine into a collection

    Returns:
        (cls): A data product collection containing all of the provided products in the `*products` argument.
    """
    return cls(elements=list(flatten(products)))</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="trendify.products.DataProductCollection.get_products" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_products</span>


<a href="#trendify.products.DataProductCollection.get_products" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">get_products(
    tag: <a class="autorefs autorefs-external" title="typing.Hashable" href="https://docs.python.org/3/library/typing.html#typing.Hashable">Hashable</a> | None = None,
    object_type: <a class="autorefs autorefs-external" title="typing.Type" href="https://docs.python.org/3/library/typing.html#typing.Type">Type</a>[<span title="trendify.products.R">R</span>] | None = None,
) -&gt; <a class="autorefs autorefs-external" title="typing.Self" href="https://docs.python.org/3/library/typing.html#typing.Self">Self</a>[<span title="trendify.products.R">R</span>]</code></pre>

    <div class="doc doc-contents ">

        <p>Returns a new collection containing products matching <code>tag</code> and/or <code>object_type</code>.
Both <code>tag</code> and <code>object_type</code> default to <code>None</code> which matches all products.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>tag</code></b>
              (<code><a class="autorefs autorefs-internal" title="trendify.products.Tag" href="#trendify.products.Tag">Tag</a> | None</code>, default:
                  <code>None</code>
)
          
          <div class="doc-md-description">
            <p>Tag of data products to be kept.  <code>None</code> matches all products.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>object_type</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Type" href="https://docs.python.org/3/library/typing.html#typing.Type">Type</a> | None</code>, default:
                  <code>None</code>
)
          
          <div class="doc-md-description">
            <p>Type of data product to keep.  <code>None</code> matches all products.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-internal" title="trendify.products.DataProductCollection" href="#trendify.products.DataProductCollection">DataProductCollection</a></code>
          
          <div class="doc-md-description">
            <p>A new collection containing matching elements.</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def get_products(self, tag: Hashable | None = None, object_type: Type[R] | None = None) -&gt; Self[R]:
    """
    Returns a new collection containing products matching `tag` and/or `object_type`.
    Both `tag` and `object_type` default to `None` which matches all products.

    Args:
        tag (Tag | None): Tag of data products to be kept.  `None` matches all products.
        object_type (Type | None): Type of data product to keep.  `None` matches all products.

    Returns:
        (DataProductCollection): A new collection containing matching elements.
    """
    match_key = tag is None, object_type is None
    match match_key:
        case (True, True):
            return type(self)(elements=self.elements)
        case (True, False):
            return type(self)(elements=[e for e in self.elements if isinstance(e, object_type)])
        case (False, True):
            return type(self)(elements=[e for e in self.elements if tag in e.tags])
        case (False, False):
            return type(self)(elements=[e for e in self.elements if tag in e.tags and isinstance(e, object_type)])
        case _:
            raise ValueError('Something is wrong with match statement')</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="trendify.products.DataProductCollection.get_tags" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_tags</span>


<a href="#trendify.products.DataProductCollection.get_tags" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">get_tags(
    data_product_type: <a class="autorefs autorefs-external" title="typing.Type" href="https://docs.python.org/3/library/typing.html#typing.Type">Type</a>[<a class="autorefs autorefs-internal" title="trendify.products.DataProduct" href="#trendify.products.DataProduct">DataProduct</a>] | None = None,
) -&gt; <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#set">set</a></code></pre>

    <div class="doc doc-contents ">

        <p>Gets the tags related to a given type of <code>DataProduct</code>.  Parent classes will match all child class types.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>data_product_type</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Type" href="https://docs.python.org/3/library/typing.html#typing.Type">Type</a>[<a class="autorefs autorefs-internal" title="trendify.products.DataProduct" href="#trendify.products.DataProduct">DataProduct</a>] | None</code>, default:
                  <code>None</code>
)
          
          <div class="doc-md-description">
            <p>type for which you want to get the list of tags</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#set">set</a></code>
          
          <div class="doc-md-description">
            <p>set of tags applying to the given <code>data_product_type</code>.</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def get_tags(self, data_product_type: Type[DataProduct] | None = None) -&gt; set:
    """
    Gets the tags related to a given type of `DataProduct`.  Parent classes will match all child class types.

    Args:
        data_product_type (Type[DataProduct] | None): type for which you want to get the list of tags

    Returns:
        (set): set of tags applying to the given `data_product_type`.
    """
    tags = []
    for e in flatten(self.elements):
        if data_product_type is None or isinstance(e, data_product_type):
            for t in e.tags:
                tags.append(t)
    return set(tags)</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="trendify.products.DataProductCollection.make_grafana_panels" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">make_grafana_panels</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#trendify.products.DataProductCollection.make_grafana_panels" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">make_grafana_panels(dir_in: <a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>, panel_dir: <a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>)</code></pre>

    <div class="doc doc-contents ">

        <p>Processes collection of elements corresponding to a single tag.
This method should be called on a directory containing jsons for which the products have been
sorted.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>dir_in</code></b>
              (<code><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></code>)
          
          <div class="doc-md-description">
            <p>Directory from which to read data products (should be sorted first)</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>panel_dir</code></b>
              (<code><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></code>)
          
          <div class="doc-md-description">
            <p>Where to put the panel information</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">@classmethod
def make_grafana_panels(
        cls,
        dir_in: Path,
        panel_dir: Path,
    ):
    """
    Processes collection of elements corresponding to a single tag.
    This method should be called on a directory containing jsons for which the products have been
    sorted.

    Args:
        dir_in (Path): Directory from which to read data products (should be sorted first)
        panel_dir (Path): Where to put the panel information
    """

    collection = cls.collect_from_all_jsons(dir_in)
    panel_dir.mkdir(parents=True, exist_ok=True)

    if collection is not None:
        server_path = 'http://localhost:8000/data_products/workdir.products/'  # [ ] this should not be hard coded

        for tag in collection.get_tags():


            dot_tag = '.'.join([str(t) for t in tag]) if should_be_flattened(tag) else tag
            underscore_tag = '_'.join([str(t) for t in tag]) if should_be_flattened(tag) else tag

            table_entries: List[TableEntry] = collection.get_products(tag=tag, object_type=TableEntry).elements

            if table_entries:
                print(f'\n\nMaking tables for {tag = }\n')
                panel = gapi.Panel(
                    targets=[
                        gapi.Target(
                            datasource=gapi.DataSource(),
                            url='/'.join([server_path.strip('/'), dot_tag, 'TableEntry']),
                            uql=UQL_TableEntry,
                        )
                    ],
                    type='table',
                )
                panel_dir.joinpath(underscore_tag + '_table_panel.json').write_text(panel.model_dump_json(indent=4))
                print(f'\nFinished tables for {tag = }\n')

            traces: List[Trace2D] = collection.get_products(tag=tag, object_type=Trace2D).elements
            points: List[Point2D] = collection.get_products(tag=tag, object_type=Point2D).elements

            if points or traces:
                print(f'\n\nMaking xy chart for {tag = }\n')
                panel = gapi.Panel(
                    targets=[
                        gapi.Target(
                            datasource=gapi.DataSource(),
                            url='/'.join([server_path.strip('/'), dot_tag, 'Point2D']),
                            uql=UQL_Point2D,
                            refId='A',
                        ),
                        gapi.Target(
                            datasource=gapi.DataSource(),
                            url='/'.join([server_path.strip('/'), dot_tag, 'Trace2D']),
                            uql=UQL_Trace2D,
                            refId='B',
                        )
                    ],
                    transformations=[
                        gapi.Merge(),
                        gapi.PartitionByValues.from_fields(
                            fields='label',
                            keep_fields=False,
                            fields_as_labels=False,
                        )
                    ],
                    type='xychart',
                )
                panel_dir.joinpath(underscore_tag + '_xy_panel.json').write_text(panel.model_dump_json(indent=4))
                print(f'\nFinished xy plot for {tag = }\n')</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="trendify.products.DataProductCollection.process_single_tag_collection" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">process_single_tag_collection</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#trendify.products.DataProductCollection.process_single_tag_collection" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">process_single_tag_collection(
    dir_in: <a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>,
    dir_out: <a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>,
    make_tables: <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a>,
    make_xy_plots: <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a>,
    make_histograms: <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a>,
    dpi: <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a>,
)</code></pre>

    <div class="doc doc-contents ">

        <p>Processes collection of elements corresponding to a single tag.
This method should be called on a directory containing jsons for which the products have been
sorted.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>dir_in</code></b>
              (<code><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></code>)
          
          <div class="doc-md-description">
            
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>dir_out</code></b>
              (<code><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></code>)
          
          <div class="doc-md-description">
            
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>make_tables</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>)
          
          <div class="doc-md-description">
            
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>make_xy_plots</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>)
          
          <div class="doc-md-description">
            
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>make_histograms</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>)
          
          <div class="doc-md-description">
            
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>dpi</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>)
          
          <div class="doc-md-description">
            
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">@classmethod
def process_single_tag_collection(
        cls,
        dir_in: Path,
        dir_out: Path,
        make_tables: bool,
        make_xy_plots: bool,
        make_histograms: bool,
        dpi: int,
    ):
    """
    Processes collection of elements corresponding to a single tag.
    This method should be called on a directory containing jsons for which the products have been
    sorted.

    Args:
        dir_in (Path):
        dir_out (Path):
        make_tables (bool):
        make_xy_plots (bool):
        make_histograms (bool):
        dpi (int):
    """

    collection = cls.collect_from_all_jsons(dir_in)

    if collection is not None:

        [tag] = collection.get_tags()

        if make_tables:

            table_entries: List[TableEntry] = collection.get_products(tag=tag, object_type=TableEntry).elements

            if table_entries:
                print(f'\n\nMaking tables for {tag = }\n')
                TableBuilder.process_table_entries(
                    tag=tag,
                    table_entries=table_entries,
                    out_dir=dir_out
                )
                print(f'\nFinished tables for {tag = }\n')

        if make_xy_plots:

            traces: List[Trace2D] = collection.get_products(tag=tag, object_type=Trace2D).elements
            points: List[Point2D] = collection.get_products(tag=tag, object_type=Point2D).elements

            if points or traces:
                print(f'\n\nMaking xy plot for {tag = }\n')
                XYDataPlotter.handle_points_and_traces(
                    tag=tag,
                    points=points,
                    traces=traces,
                    dir_out=dir_out,
                    dpi=dpi,
                )
                print(f'\nFinished xy plot for {tag = }\n')

        if make_histograms:
            histogram_entries: List[HistogramEntry] = collection.get_products(tag=tag, object_type=HistogramEntry).elements

            if histogram_entries:
                print(f'\n\nMaking histogram for {tag = }\n')
                Histogrammer.handle_histogram_entries(
                    tag=tag,
                    histogram_entries=histogram_entries,
                    dir_out=dir_out,
                    dpi=dpi
                )
                print(f'\nFinished histogram for {tag = }\n')</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="trendify.products.DataProductCollection.sort_by_tags" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">sort_by_tags</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#trendify.products.DataProductCollection.sort_by_tags" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">sort_by_tags(dirs_in: <a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>], dir_out: <a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>)</code></pre>

    <div class="doc doc-contents ">

        <p>Loads the data product JSON files from <code>dirs_in</code> sorts the products.
Sorted products are written to smaller files in a nested directory structure under <code>dir_out</code>.
The nested directory structure is generated accordint to the data tags.
Resulting product files are named according to the directory from which they were originally loaded.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>dirs_in</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>]</code>)
          
          <div class="doc-md-description">
            <p>Directories from which the data product JSON files are to be loaded.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>dir_out</code></b>
              (<code><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></code>)
          
          <div class="doc-md-description">
            <p>Directory to which the sorted data products will be written into a 
nested folder structure generated according to the data tags.</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">@classmethod
def sort_by_tags(cls, dirs_in: List[Path], dir_out: Path):
    """
    Loads the data product JSON files from `dirs_in` sorts the products.
    Sorted products are written to smaller files in a nested directory structure under `dir_out`.
    The nested directory structure is generated accordint to the data tags.
    Resulting product files are named according to the directory from which they were originally loaded.

    Args:
        dirs_in (List[Path]): Directories from which the data product JSON files are to be loaded.
        dir_out (Path): Directory to which the sorted data products will be written into a 
            nested folder structure generated according to the data tags.
    """
    dirs_in = list(dirs_in)
    dirs_in.sort()
    len_dirs = len(dirs_in)
    for n, d in enumerate(dirs_in):
        print(f'Collecting tagged data from dir {n}/{len_dirs}', end=f'\r')
        collection = DataProductCollection.model_validate_json(
            d.joinpath(DATA_PRODUCTS_FNAME).read_text()
        )
        tags = collection.get_tags()
        for tag in tags:
            sub_collection = collection.get_products(tag=tag)
            save_to = dir_out.joinpath(*atleast_1d(tag))
            save_to.mkdir(parents=True, exist_ok=True)
            save_to.joinpath(d.name).with_suffix('.json').write_text(sub_collection.model_dump_json(
                indent=4
            ))</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="trendify.products.DataProductCollection.union" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">union</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#trendify.products.DataProductCollection.union" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">union(*collections: <a class="autorefs autorefs-internal" title="trendify.products.DataProductCollection" href="#trendify.products.DataProductCollection">DataProductCollection</a>)</code></pre>

    <div class="doc doc-contents ">

        <p>Aggregates all of the products from multiple collections into a new larger collection.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>collections</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple">Tuple</a>[<a class="autorefs autorefs-internal" title="trendify.products.DataProductCollection" href="#trendify.products.DataProductCollection">DataProductCollection</a>, ...]</code>, default:
                  <code>()</code>
)
          
          <div class="doc-md-description">
            <p>Data product collections
for which the products should be combined into a new collection.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" title="typing.Type" href="https://docs.python.org/3/library/typing.html#typing.Type">Type</a>[<a class="autorefs autorefs-external" title="typing.Self" href="https://docs.python.org/3/library/typing.html#typing.Self">Self</a>]</code>
          
          <div class="doc-md-description">
            <p>A new data product collection containing all products from
the provided <code>*collections</code>.</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">@classmethod
def union(cls, *collections: DataProductCollection):
    """
    Aggregates all of the products from multiple collections into a new larger collection.

    Args:
        collections (Tuple[DataProductCollection, ...]): Data product collections
            for which the products should be combined into a new collection.

    Returns:
        (Type[Self]): A new data product collection containing all products from
            the provided `*collections`.
    """
    return cls(elements=list(flatten(chain(c.elements for c in collections))))</code></pre>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="trendify.products.DataProductGenerator" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">DataProductGenerator</span>


<a href="#trendify.products.DataProductGenerator" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">


        <p>A wrapper for saving the data products generated by a user defined function</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>processor</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a>[[<a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>], <span title="trendify.products.ProductList">ProductList</span>]</code>)
          
          <div class="doc-md-description">
            <p>A callable that receives a working directory
and returns a list of data products.</p>
          </div>
        </li>
    </ul>






              <details class="quote">
                <summary>Source code in <code>src/trendify/products.py</code></summary>
                <pre class="highlight"><code class="language-python">class DataProductGenerator:
    """
    A wrapper for saving the data products generated by a user defined function

    Args:
        processor (Callable[[Path], ProductList]): A callable that receives a working directory
            and returns a list of data products.
    """
    def __init__(self, processor: Callable[[Path], ProductList]):
        self._processor = processor

    def process_and_save(self, workdir: Path):
        """
        Runs the user-defined processor method stored at instantiation.

        Saves the returned products to a JSON file in the same directory.

        Args:
            workdir (Path): working directory on which to run the processor method.
        """

        print(f'Processing {workdir = } with {self._processor = }')
        collection = DataProductCollection.from_iterable(self._processor(workdir))
        workdir.mkdir(exist_ok=True, parents=True)
        workdir.joinpath(DATA_PRODUCTS_FNAME).write_text(collection.model_dump_json())</code></pre>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="trendify.products.DataProductGenerator.process_and_save" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">process_and_save</span>


<a href="#trendify.products.DataProductGenerator.process_and_save" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">process_and_save(workdir: <a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>)</code></pre>

    <div class="doc doc-contents ">

        <p>Runs the user-defined processor method stored at instantiation.</p>
<p>Saves the returned products to a JSON file in the same directory.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>workdir</code></b>
              (<code><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></code>)
          
          <div class="doc-md-description">
            <p>working directory on which to run the processor method.</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def process_and_save(self, workdir: Path):
    """
    Runs the user-defined processor method stored at instantiation.

    Saves the returned products to a JSON file in the same directory.

    Args:
        workdir (Path): working directory on which to run the processor method.
    """

    print(f'Processing {workdir = } with {self._processor = }')
    collection = DataProductCollection.from_iterable(self._processor(workdir))
    workdir.mkdir(exist_ok=True, parents=True)
    workdir.joinpath(DATA_PRODUCTS_FNAME).write_text(collection.model_dump_json())</code></pre>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="trendify.products.Format2D" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">Format2D</span>


<a href="#trendify.products.Format2D" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="trendify.products.HashableBase" href="#trendify.products.HashableBase">HashableBase</a></code></p>


        <p>Formatting data for matplotlib figure and axes</p>






              <details class="quote">
                <summary>Source code in <code>src/trendify/products.py</code></summary>
                <pre class="highlight"><code class="language-python">class Format2D(HashableBase):
    """
    Formatting data for matplotlib figure and axes
    """
    title_fig: Optional[str] = None
    title_legend: Optional[str] = None
    title_ax: Optional[str] = None
    label_x: Optional[str] = None
    label_y: Optional[str] = None
    lim_x_min: float | str | None = None
    lim_x_max: float | str | None = None
    lim_y_min: float | str | None = None
    lim_y_max: float | str | None = None

    class Config:
        """
        Forbids extra arguments
        """
        extra = "forbid"  

    @classmethod
    def union_from_iterable(cls, format2ds: Iterable[Format2D]):
        """
        Gets the most inclusive format object (in terms of limits) from a list of `Format2D` objects.
        Requires that the label and title fields are identical for all format objects in the list.

        Args:
            format2ds (Iterable[Format2D]): Iterable of `Format2D` objects.

        Returns:
            (Format2D): Single format object from list of objects.

        """
        formats = list(set(format2ds) - {None})
        [title_fig] = set(i.title_fig for i in formats)
        [title_legend] = set(i.title_legend for i in formats)
        [title_ax] = set(i.title_ax for i in formats)
        [label_x] = set(i.label_x for i in formats)
        [label_y] = set(i.label_y for i in formats)
        x_min = [i.lim_x_min for i in formats if i.lim_x_min is not None]
        x_max = [i.lim_x_max for i in formats if i.lim_x_max is not None]
        y_min = [i.lim_y_min for i in formats if i.lim_y_min is not None]
        y_max = [i.lim_y_max for i in formats if i.lim_y_max is not None]
        lim_x_min = np.min(x_min) if len(x_min) &gt; 0 else None
        lim_x_max = np.max(x_max) if len(x_max) &gt; 0 else None
        lim_y_min = np.min(y_min) if len(y_min) &gt; 0 else None
        lim_y_max = np.max(y_max) if len(y_max) &gt; 0 else None

        return cls(
            title_fig=title_fig,
            title_legend=title_legend,
            title_ax=title_ax,
            label_x=label_x,
            label_y=label_y,
            lim_x_min=lim_x_min,
            lim_x_max=lim_x_max,
            lim_y_min=lim_y_min,
            lim_y_max=lim_y_max,
        )</code></pre>
              </details>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="trendify.products.Format2D.Config" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">Config</span>


<a href="#trendify.products.Format2D.Config" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">


        <p>Forbids extra arguments</p>






              <details class="quote">
                <summary>Source code in <code>src/trendify/products.py</code></summary>
                <pre class="highlight"><code class="language-python">class Config:
    """
    Forbids extra arguments
    """
    extra = "forbid"  </code></pre>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h4 id="trendify.products.Format2D.union_from_iterable" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">union_from_iterable</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#trendify.products.Format2D.union_from_iterable" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">union_from_iterable(format2ds: <a class="autorefs autorefs-external" title="typing.Iterable" href="https://docs.python.org/3/library/typing.html#typing.Iterable">Iterable</a>[<a class="autorefs autorefs-internal" title="trendify.products.Format2D" href="#trendify.products.Format2D">Format2D</a>])</code></pre>

    <div class="doc doc-contents ">

        <p>Gets the most inclusive format object (in terms of limits) from a list of <code>Format2D</code> objects.
Requires that the label and title fields are identical for all format objects in the list.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>format2ds</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Iterable" href="https://docs.python.org/3/library/typing.html#typing.Iterable">Iterable</a>[<a class="autorefs autorefs-internal" title="trendify.products.Format2D" href="#trendify.products.Format2D">Format2D</a>]</code>)
          
          <div class="doc-md-description">
            <p>Iterable of <code>Format2D</code> objects.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-internal" title="trendify.products.Format2D" href="#trendify.products.Format2D">Format2D</a></code>
          
          <div class="doc-md-description">
            <p>Single format object from list of objects.</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">@classmethod
def union_from_iterable(cls, format2ds: Iterable[Format2D]):
    """
    Gets the most inclusive format object (in terms of limits) from a list of `Format2D` objects.
    Requires that the label and title fields are identical for all format objects in the list.

    Args:
        format2ds (Iterable[Format2D]): Iterable of `Format2D` objects.

    Returns:
        (Format2D): Single format object from list of objects.

    """
    formats = list(set(format2ds) - {None})
    [title_fig] = set(i.title_fig for i in formats)
    [title_legend] = set(i.title_legend for i in formats)
    [title_ax] = set(i.title_ax for i in formats)
    [label_x] = set(i.label_x for i in formats)
    [label_y] = set(i.label_y for i in formats)
    x_min = [i.lim_x_min for i in formats if i.lim_x_min is not None]
    x_max = [i.lim_x_max for i in formats if i.lim_x_max is not None]
    y_min = [i.lim_y_min for i in formats if i.lim_y_min is not None]
    y_max = [i.lim_y_max for i in formats if i.lim_y_max is not None]
    lim_x_min = np.min(x_min) if len(x_min) &gt; 0 else None
    lim_x_max = np.max(x_max) if len(x_max) &gt; 0 else None
    lim_y_min = np.min(y_min) if len(y_min) &gt; 0 else None
    lim_y_max = np.max(y_max) if len(y_max) &gt; 0 else None

    return cls(
        title_fig=title_fig,
        title_legend=title_legend,
        title_ax=title_ax,
        label_x=label_x,
        label_y=label_y,
        lim_x_min=lim_x_min,
        lim_x_max=lim_x_max,
        lim_y_min=lim_y_min,
        lim_y_max=lim_y_max,
    )</code></pre>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="trendify.products.HashableBase" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">HashableBase</span>


<a href="#trendify.products.HashableBase" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-external" title="pydantic.BaseModel" href="https://docs.pydantic.dev/latest/api/base_model/#pydantic.BaseModel">BaseModel</a></code></p>


        <p>Defines a base for hashable pydantic data classes so that they can be reduced to a minimal set through type-casting.</p>






              <details class="quote">
                <summary>Source code in <code>src/trendify/products.py</code></summary>
                <pre class="highlight"><code class="language-python">class HashableBase(BaseModel):
    """
    Defines a base for hashable pydantic data classes so that they can be reduced to a minimal set through type-casting.
    """
    def __hash__(self):
        """
        Defines hash function
        """
        return hash((type(self),) + tuple(self.__dict__.values()))</code></pre>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="trendify.products.HashableBase.__hash__" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">__hash__</span>


<a href="#trendify.products.HashableBase.__hash__" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">__hash__()</code></pre>

    <div class="doc doc-contents ">

        <p>Defines hash function</p>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def __hash__(self):
    """
    Defines hash function
    """
    return hash((type(self),) + tuple(self.__dict__.values()))</code></pre>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="trendify.products.HistogramEntry" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">HistogramEntry</span>


<a href="#trendify.products.HistogramEntry" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="trendify.products.DataProduct" href="#trendify.products.DataProduct">DataProduct</a></code></p>


        <p>Use this class to specify a value to be collected into a matplotlib histogram.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.HistogramEntry.product_type">product_type</span></code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a>[&#39;Trace2D&#39;]</code>)
          
          <div class="doc-md-description">
            <p>Name of class type to be used as a constructor.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.HistogramEntry.value">value</span></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>)
          
          <div class="doc-md-description">
            <p>Value to be binned</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.HistogramEntry.tags">tags</span></code></b>
              (<code><a class="autorefs autorefs-internal" title="trendify.products.Tags" href="#trendify.products.Tags">Tags</a></code>)
          
          <div class="doc-md-description">
            <p>Hashable tags used to sort data products</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.HistogramEntry.style">style</span></code></b>
              (<code><a class="autorefs autorefs-internal" title="trendify.products.HistogramStyle" href="#trendify.products.HistogramStyle">HistogramStyle</a></code>)
          
          <div class="doc-md-description">
            <p>Style of histogram display</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.HistogramEntry.format2d">format2d</span></code></b>
              (<code><a class="autorefs autorefs-internal" title="trendify.products.Format2D" href="#trendify.products.Format2D">Format2D</a></code>)
          
          <div class="doc-md-description">
            <p>Format to apply to single axis figure</p>
          </div>
        </li>
    </ul>






              <details class="quote">
                <summary>Source code in <code>src/trendify/products.py</code></summary>
                <pre class="highlight"><code class="language-python">class HistogramEntry(DataProduct):
    """
    Use this class to specify a value to be collected into a matplotlib histogram.

    Attributes:
        product_type (Literal['Trace2D']): Name of class type to be used as a constructor.
        value (float | str): Value to be binned
        tags (Tags): Hashable tags used to sort data products
        style (HistogramStyle): Style of histogram display
        format2d (Format2D): Format to apply to single axis figure
    """
    product_type: Literal['HistogramEntry'] = 'HistogramEntry'
    value: float | str
    tags: Tags
    style: HistogramStyle
    format2d: Format2D

    class Config:
        """
        Forbids extra attributes
        """
        extra = "forbid"</code></pre>
              </details>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="trendify.products.HistogramEntry.Config" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">Config</span>


<a href="#trendify.products.HistogramEntry.Config" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">


        <p>Forbids extra attributes</p>






              <details class="quote">
                <summary>Source code in <code>src/trendify/products.py</code></summary>
                <pre class="highlight"><code class="language-python">class Config:
    """
    Forbids extra attributes
    """
    extra = "forbid"</code></pre>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="trendify.products.HistogramStyle" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">HistogramStyle</span>


<a href="#trendify.products.HistogramStyle" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="trendify.products.HashableBase" href="#trendify.products.HashableBase">HashableBase</a></code></p>


        <p>Label and style data for generating histogram bars</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.HistogramStyle.color">color</span></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>)
          
          <div class="doc-md-description">
            <p>Color of bars</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.HistogramStyle.label">label</span></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | None</code>)
          
          <div class="doc-md-description">
            <p>Legend entry</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.HistogramStyle.histtype">histtype</span></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>)
          
          <div class="doc-md-description">
            <p>Histogram type corresponding to matplotlib argument of same name</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.HistogramStyle.alpha_edge">alpha_edge</span></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>)
          
          <div class="doc-md-description">
            <p>Opacity of bar edge</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.HistogramStyle.alpha_face">alpha_face</span></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>)
          
          <div class="doc-md-description">
            <p>Opacity of bar face</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.HistogramStyle.linewidth">linewidth</span></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>)
          
          <div class="doc-md-description">
            <p>Line width of bar outline</p>
          </div>
        </li>
    </ul>






              <details class="quote">
                <summary>Source code in <code>src/trendify/products.py</code></summary>
                <pre class="highlight"><code class="language-python">class HistogramStyle(HashableBase):
    """
    Label and style data for generating histogram bars

    Attributes:
        color (str): Color of bars
        label (str|None): Legend entry
        histtype (str): Histogram type corresponding to matplotlib argument of same name
        alpha_edge (float): Opacity of bar edge
        alpha_face (float): Opacity of bar face
        linewidth (float): Line width of bar outline
    """
    color: str = 'k'
    label: str | None = None
    histtype: str = 'stepfilled'
    alpha_edge: float = 1
    alpha_face: float = 0.3
    linewidth: float = 2

    def as_plot_kwargs(self):
        """
        Returns:
            (dict): kwargs for matplotlib `hist` method
        """
        return {
            'facecolor': (self.color, self.alpha_face),
            'edgecolor': (self.color, self.alpha_edge),
            'linewidth': self.linewidth,
            'label': self.label,
            'histtype': self.histtype
        }</code></pre>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="trendify.products.HistogramStyle.as_plot_kwargs" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">as_plot_kwargs</span>


<a href="#trendify.products.HistogramStyle.as_plot_kwargs" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">as_plot_kwargs()</code></pre>

    <div class="doc doc-contents ">



<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
          
          <div class="doc-md-description">
            <p>kwargs for matplotlib <code>hist</code> method</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def as_plot_kwargs(self):
    """
    Returns:
        (dict): kwargs for matplotlib `hist` method
    """
    return {
        'facecolor': (self.color, self.alpha_face),
        'edgecolor': (self.color, self.alpha_edge),
        'linewidth': self.linewidth,
        'label': self.label,
        'histtype': self.histtype
    }</code></pre>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="trendify.products.Histogrammer" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">Histogrammer</span>


<a href="#trendify.products.Histogrammer" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">


        <p>Class for loading data products and histogramming the <a class="autorefs autorefs-internal" href="#trendify.products.HistogramEntry"><code>HistogramEntry</code></a>s</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>in_dirs</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>]</code>)
          
          <div class="doc-md-description">
            <p>Directories from which the data products are to be loaded.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>out_dir</code></b>
              (<code><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></code>)
          
          <div class="doc-md-description">
            <p>Directory to which the generated histogram will be stored</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>dpi</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>)
          
          <div class="doc-md-description">
            <p>resolution of plot</p>
          </div>
        </li>
    </ul>






              <details class="quote">
                <summary>Source code in <code>src/trendify/products.py</code></summary>
                <pre class="highlight"><code class="language-python">class Histogrammer:
    """
    Class for loading data products and histogramming the [`HistogramEntry`][trendify.products.HistogramEntry]s

    Args:
        in_dirs (List[Path]): Directories from which the data products are to be loaded.
        out_dir (Path): Directory to which the generated histogram will be stored
        dpi (int): resolution of plot
    """
    def __init__(
            self,
            in_dirs: List[Path],
            out_dir: Path,
            dpi: int,
        ):
        self.in_dirs = in_dirs
        self.out_dir = out_dir
        self.dpi = dpi

    def plot(
            self,
            tag: Hashable,
        ):
        """
        Generates a histogram by loading data from stored `in_dirs` and saves the plot to `out_dir` directory.
        A nested folder structure will be created if the provided `tag` is a tuple.  
        In that case, the last tag item (with an appropriate suffix) will be used for the file name.

        Args:
            tag (Hashable): Tag used to filter the loaded data products
        """
        print(f'Making histogram plot for {tag = }')

        histogram_entries: List[HistogramEntry] = []
        for directory in self.in_dirs:
            collection = DataProductCollection.model_validate_json(directory.joinpath(DATA_PRODUCTS_FNAME).read_text())
            histogram_entries.extend(collection.get_products(tag=tag, object_type=HistogramEntry).elements)

        self.handle_histogram_entries(
            tag=tag,
            histogram_entries=histogram_entries,
            dir_out=self.out_dir,
            dpi=self.dpi,
        )

    @classmethod
    def handle_histogram_entries(
            cls, 
            tag: Hashable, 
            histogram_entries: List[HistogramEntry],
            dir_out: Path,
            dpi: int,
        ):
        """
        Histograms the provided entries. Formats and saves the figure.  Closes the figure.

        Args:
            tag (Hashable): Tag used to filter the loaded data products
            histogram_entries (List[HistogramEntry]): A list of [`HistogramEntry`][trendify.products.HistogramEntry]s
            dir_out (Path): Directory to which the generated histogram will be stored
            dpi (int): resolution of plot
        """
        saf = SingleAxisFigure.new(tag=tag)

        histogram_styles = set([h.style for h in histogram_entries])
        for s in histogram_styles:
            matching_entries = [e for e in histogram_entries if e.style == s]
            values = [e.value for e in matching_entries]
            if s is not None:
                saf.ax.hist(values, **s.as_plot_kwargs())
            else:
                saf.ax.hist(values)

        [format2d] = set([h.format2d for h in histogram_entries]) - {None}
        saf.apply_format(format2d=format2d)

        save_path = dir_out.joinpath(*tuple(atleast_1d(tag))).with_suffix('.jpg')
        save_path.parent.mkdir(exist_ok=True, parents=True)
        print(f'Saving to {save_path}')
        saf.savefig(save_path, dpi=dpi)
        del saf</code></pre>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="trendify.products.Histogrammer.handle_histogram_entries" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">handle_histogram_entries</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#trendify.products.Histogrammer.handle_histogram_entries" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">handle_histogram_entries(
    tag: <a class="autorefs autorefs-external" title="typing.Hashable" href="https://docs.python.org/3/library/typing.html#typing.Hashable">Hashable</a>,
    histogram_entries: <a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-internal" title="trendify.products.HistogramEntry" href="#trendify.products.HistogramEntry">HistogramEntry</a>],
    dir_out: <a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>,
    dpi: <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a>,
)</code></pre>

    <div class="doc doc-contents ">

        <p>Histograms the provided entries. Formats and saves the figure.  Closes the figure.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>tag</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Hashable" href="https://docs.python.org/3/library/typing.html#typing.Hashable">Hashable</a></code>)
          
          <div class="doc-md-description">
            <p>Tag used to filter the loaded data products</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>histogram_entries</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-internal" title="trendify.products.HistogramEntry" href="#trendify.products.HistogramEntry">HistogramEntry</a>]</code>)
          
          <div class="doc-md-description">
            <p>A list of <a class="autorefs autorefs-internal" href="#trendify.products.HistogramEntry"><code>HistogramEntry</code></a>s</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>dir_out</code></b>
              (<code><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></code>)
          
          <div class="doc-md-description">
            <p>Directory to which the generated histogram will be stored</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>dpi</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>)
          
          <div class="doc-md-description">
            <p>resolution of plot</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">@classmethod
def handle_histogram_entries(
        cls, 
        tag: Hashable, 
        histogram_entries: List[HistogramEntry],
        dir_out: Path,
        dpi: int,
    ):
    """
    Histograms the provided entries. Formats and saves the figure.  Closes the figure.

    Args:
        tag (Hashable): Tag used to filter the loaded data products
        histogram_entries (List[HistogramEntry]): A list of [`HistogramEntry`][trendify.products.HistogramEntry]s
        dir_out (Path): Directory to which the generated histogram will be stored
        dpi (int): resolution of plot
    """
    saf = SingleAxisFigure.new(tag=tag)

    histogram_styles = set([h.style for h in histogram_entries])
    for s in histogram_styles:
        matching_entries = [e for e in histogram_entries if e.style == s]
        values = [e.value for e in matching_entries]
        if s is not None:
            saf.ax.hist(values, **s.as_plot_kwargs())
        else:
            saf.ax.hist(values)

    [format2d] = set([h.format2d for h in histogram_entries]) - {None}
    saf.apply_format(format2d=format2d)

    save_path = dir_out.joinpath(*tuple(atleast_1d(tag))).with_suffix('.jpg')
    save_path.parent.mkdir(exist_ok=True, parents=True)
    print(f'Saving to {save_path}')
    saf.savefig(save_path, dpi=dpi)
    del saf</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="trendify.products.Histogrammer.plot" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">plot</span>


<a href="#trendify.products.Histogrammer.plot" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">plot(tag: <a class="autorefs autorefs-external" title="typing.Hashable" href="https://docs.python.org/3/library/typing.html#typing.Hashable">Hashable</a>)</code></pre>

    <div class="doc doc-contents ">

        <p>Generates a histogram by loading data from stored <code>in_dirs</code> and saves the plot to <code>out_dir</code> directory.
A nested folder structure will be created if the provided <code>tag</code> is a tuple.<br />
In that case, the last tag item (with an appropriate suffix) will be used for the file name.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>tag</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Hashable" href="https://docs.python.org/3/library/typing.html#typing.Hashable">Hashable</a></code>)
          
          <div class="doc-md-description">
            <p>Tag used to filter the loaded data products</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def plot(
        self,
        tag: Hashable,
    ):
    """
    Generates a histogram by loading data from stored `in_dirs` and saves the plot to `out_dir` directory.
    A nested folder structure will be created if the provided `tag` is a tuple.  
    In that case, the last tag item (with an appropriate suffix) will be used for the file name.

    Args:
        tag (Hashable): Tag used to filter the loaded data products
    """
    print(f'Making histogram plot for {tag = }')

    histogram_entries: List[HistogramEntry] = []
    for directory in self.in_dirs:
        collection = DataProductCollection.model_validate_json(directory.joinpath(DATA_PRODUCTS_FNAME).read_text())
        histogram_entries.extend(collection.get_products(tag=tag, object_type=HistogramEntry).elements)

    self.handle_histogram_entries(
        tag=tag,
        histogram_entries=histogram_entries,
        dir_out=self.out_dir,
        dpi=self.dpi,
    )</code></pre>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="trendify.products.Marker" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">Marker</span>


<a href="#trendify.products.Marker" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="trendify.products.HashableBase" href="#trendify.products.HashableBase">HashableBase</a></code></p>


        <p>Defines marker for scattering to matplotlib</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.Marker.color">color</span></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>)
          
          <div class="doc-md-description">
            <p>Color of line</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.Marker.size">size</span></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>)
          
          <div class="doc-md-description">
            <p>Line width</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.Marker.alpha">alpha</span></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>)
          
          <div class="doc-md-description">
            <p>Opacity from 0 to 1 (inclusive)</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.Marker.zorder">zorder</span></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>)
          
          <div class="doc-md-description">
            <p>Prioritization </p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.Marker.label">label</span></code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, None]</code>)
          
          <div class="doc-md-description">
            <p>Legend label</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.Marker.symbol">symbol</span></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>)
          
          <div class="doc-md-description">
            <p>Matplotlib symbol string</p>
          </div>
        </li>
    </ul>






              <details class="quote">
                <summary>Source code in <code>src/trendify/products.py</code></summary>
                <pre class="highlight"><code class="language-python">class Marker(HashableBase):
    """
    Defines marker for scattering to matplotlib

    Attributes:
        color (str): Color of line
        size (float): Line width
        alpha (float): Opacity from 0 to 1 (inclusive)
        zorder (float): Prioritization 
        label (Union[str, None]): Legend label
        symbol (str): Matplotlib symbol string
    """
    color: str = 'k'
    size: float = 5
    alpha: float = 1
    zorder: float = 0
    label: Union[str, None] = None
    symbol: str = '.'

    @classmethod
    def from_pen(
            cls,
            pen: Pen,
            symbol: str = '.',
        ):
        """
        Converts Pen to marker with the option to specify a symbol
        """
        return cls(symbol=symbol, **pen.model_dump())

    class Config:
        """
        Forbids extra attributes
        """
        extra = "forbid"  

    def as_scatter_plot_kwargs(self):
        """
        Returns:
            (dict): dictionary of `kwargs` for [matplotlib scatter][matplotlib.axes.Axes.scatter]
        """
        return {
            'marker': self.symbol,
            'c': self.color,
            's': self.size,
            'alpha': self.alpha,
            'zorder': self.zorder,
            'label': self.label,
            'marker': self.symbol,
        }</code></pre>
              </details>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="trendify.products.Marker.Config" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">Config</span>


<a href="#trendify.products.Marker.Config" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">


        <p>Forbids extra attributes</p>






              <details class="quote">
                <summary>Source code in <code>src/trendify/products.py</code></summary>
                <pre class="highlight"><code class="language-python">class Config:
    """
    Forbids extra attributes
    """
    extra = "forbid"  </code></pre>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h4 id="trendify.products.Marker.as_scatter_plot_kwargs" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">as_scatter_plot_kwargs</span>


<a href="#trendify.products.Marker.as_scatter_plot_kwargs" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">as_scatter_plot_kwargs()</code></pre>

    <div class="doc doc-contents ">



<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
          
          <div class="doc-md-description">
            <p>dictionary of <code>kwargs</code> for <a class="autorefs autorefs-external" href="https://matplotlib.org/api/_as_gen/matplotlib.axes.Axes.scatter.html#matplotlib.axes.Axes.scatter">matplotlib scatter</a></p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def as_scatter_plot_kwargs(self):
    """
    Returns:
        (dict): dictionary of `kwargs` for [matplotlib scatter][matplotlib.axes.Axes.scatter]
    """
    return {
        'marker': self.symbol,
        'c': self.color,
        's': self.size,
        'alpha': self.alpha,
        'zorder': self.zorder,
        'label': self.label,
        'marker': self.symbol,
    }</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="trendify.products.Marker.from_pen" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">from_pen</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#trendify.products.Marker.from_pen" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">from_pen(pen: <a class="autorefs autorefs-internal" title="trendify.products.Pen" href="#trendify.products.Pen">Pen</a>, symbol: <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> = '.')</code></pre>

    <div class="doc doc-contents ">

        <p>Converts Pen to marker with the option to specify a symbol</p>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">@classmethod
def from_pen(
        cls,
        pen: Pen,
        symbol: str = '.',
    ):
    """
    Converts Pen to marker with the option to specify a symbol
    """
    return cls(symbol=symbol, **pen.model_dump())</code></pre>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="trendify.products.Pen" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">Pen</span>


<a href="#trendify.products.Pen" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="trendify.products.HashableBase" href="#trendify.products.HashableBase">HashableBase</a></code></p>


        <p>Defines the pen drawing to matplotlib.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.Pen.color">color</span></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>)
          
          <div class="doc-md-description">
            <p>Color of line</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.Pen.size">size</span></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>)
          
          <div class="doc-md-description">
            <p>Line width</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.Pen.alpha">alpha</span></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>)
          
          <div class="doc-md-description">
            <p>Opacity from 0 to 1 (inclusive)</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.Pen.zorder">zorder</span></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>)
          
          <div class="doc-md-description">
            <p>Prioritization </p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.Pen.label">label</span></code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, None]</code>)
          
          <div class="doc-md-description">
            <p>Legend label</p>
          </div>
        </li>
    </ul>






              <details class="quote">
                <summary>Source code in <code>src/trendify/products.py</code></summary>
                <pre class="highlight"><code class="language-python">class Pen(HashableBase):
    """
    Defines the pen drawing to matplotlib.

    Attributes:
        color (str): Color of line
        size (float): Line width
        alpha (float): Opacity from 0 to 1 (inclusive)
        zorder (float): Prioritization 
        label (Union[str, None]): Legend label
    """
    color: str = 'k'
    size: float = 1
    alpha: float = 1
    zorder: float = 0
    label: Union[str, None] = None

    class Config:
        """
        Forbids extra attributes
        """
        extra = "forbid"  

    def as_scatter_plot_kwargs(self):
        """
        Returns kwargs dictionary for passing to [matplotlib plot][matplotlib.axes.Axes.plot] method
        """
        return {
            'color': self.color,
            'linewidth': self.size,
            'alpha': self.alpha,
            'zorder': self.zorder,
            'label': self.label,
        }</code></pre>
              </details>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="trendify.products.Pen.Config" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">Config</span>


<a href="#trendify.products.Pen.Config" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">


        <p>Forbids extra attributes</p>






              <details class="quote">
                <summary>Source code in <code>src/trendify/products.py</code></summary>
                <pre class="highlight"><code class="language-python">class Config:
    """
    Forbids extra attributes
    """
    extra = "forbid"  </code></pre>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h4 id="trendify.products.Pen.as_scatter_plot_kwargs" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">as_scatter_plot_kwargs</span>


<a href="#trendify.products.Pen.as_scatter_plot_kwargs" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">as_scatter_plot_kwargs()</code></pre>

    <div class="doc doc-contents ">

        <p>Returns kwargs dictionary for passing to <a class="autorefs autorefs-external" href="https://matplotlib.org/api/_as_gen/matplotlib.axes.Axes.plot.html#matplotlib.axes.Axes.plot">matplotlib plot</a> method</p>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def as_scatter_plot_kwargs(self):
    """
    Returns kwargs dictionary for passing to [matplotlib plot][matplotlib.axes.Axes.plot] method
    """
    return {
        'color': self.color,
        'linewidth': self.size,
        'alpha': self.alpha,
        'zorder': self.zorder,
        'label': self.label,
    }</code></pre>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="trendify.products.Point2D" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">Point2D</span>


<a href="#trendify.products.Point2D" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="trendify.products.XYData" href="#trendify.products.XYData">XYData</a></code></p>


        <p>Defines a point to be scattered onto xy plot.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.Point2D.product_type">product_type</span></code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a>[&#39;Trace2D&#39;]</code>)
          
          <div class="doc-md-description">
            <p>Name of class type to be used as a constructor.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.Point2D.points">points</span></code></b>
              (<code><a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-internal" title="trendify.products.Point2D" href="#trendify.products.Point2D">Point2D</a>]</code>)
          
          <div class="doc-md-description">
            <p>List of points.  Usually the points would have null values 
for <code>marker</code> and <code>format2d</code> fields to save space.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.Point2D.marker">marker</span></code></b>
              (<code><a class="autorefs autorefs-internal" title="trendify.products.Marker" href="#trendify.products.Marker">Marker</a></code>)
          
          <div class="doc-md-description">
            <p>Style and label information for scattering points to matplotlib axes.
Only the label information is used in Grafana.
Eventually style information will be used in grafana.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.Point2D.format2d">format2d</span></code></b>
              (<code><a class="autorefs autorefs-internal" title="trendify.products.Format2D" href="#trendify.products.Format2D">Format2D</a></code>)
          
          <div class="doc-md-description">
            <p>Formatting information for matplotlib figure.</p>
          </div>
        </li>
    </ul>






              <details class="quote">
                <summary>Source code in <code>src/trendify/products.py</code></summary>
                <pre class="highlight"><code class="language-python">class Point2D(XYData):
    """
    Defines a point to be scattered onto xy plot.

    Attributes:
        product_type (Literal['Trace2D']): Name of class type to be used as a constructor.
        points (List[Point2D]): List of points.  Usually the points would have null values 
            for `marker` and `format2d` fields to save space.
        marker (Marker): Style and label information for scattering points to matplotlib axes.
            Only the label information is used in Grafana.
            Eventually style information will be used in grafana.
        format2d (Format2D): Formatting information for matplotlib figure.
    """
    product_type: Literal['Point2D'] = 'Point2D'
    x: float | str
    y: float | str
    marker: Marker | None = Marker()
    format2d: Format2D | None = Format2D()

    class Config:
        """
        Forbids extra attributes
        """
        extra = "forbid"</code></pre>
              </details>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="trendify.products.Point2D.Config" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">Config</span>


<a href="#trendify.products.Point2D.Config" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">


        <p>Forbids extra attributes</p>






              <details class="quote">
                <summary>Source code in <code>src/trendify/products.py</code></summary>
                <pre class="highlight"><code class="language-python">class Config:
    """
    Forbids extra attributes
    """
    extra = "forbid"</code></pre>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="trendify.products.SingleAxisFigure" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">SingleAxisFigure</span>


<a href="#trendify.products.SingleAxisFigure" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-external" title="pydantic.BaseModel" href="https://docs.pydantic.dev/latest/api/base_model/#pydantic.BaseModel">BaseModel</a></code></p>


        <p>Data class storing a matlab figure and axis.  The stored tag data in this class is so-far unused.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.SingleAxisFigure.ax">ax</span></code></b>
              (<code><span title="matplotlib.pyplot.Axes">Axes</span></code>)
          
          <div class="doc-md-description">
            <p>Matplotlib axis to which data will be plotted</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.SingleAxisFigure.fig">fig</span></code></b>
              (<code><span title="matplotlib.pyplot.Figure">Figure</span></code>)
          
          <div class="doc-md-description">
            <p>Matplotlib figure.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.SingleAxisFigure.tag">tag</span></code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Hashable" href="https://docs.python.org/3/library/typing.html#typing.Hashable">Hashable</a></code>)
          
          <div class="doc-md-description">
            <p>Figure tag.  Not yet used.</p>
          </div>
        </li>
    </ul>






              <details class="quote">
                <summary>Source code in <code>src/trendify/products.py</code></summary>
                <pre class="highlight"><code class="language-python">class SingleAxisFigure(BaseModel):
    """
    Data class storing a matlab figure and axis.  The stored tag data in this class is so-far unused.

    Attributes:
        ax (plt.Axes): Matplotlib axis to which data will be plotted
        fig (plt.Figure): Matplotlib figure.
        tag (Hashable): Figure tag.  Not yet used.
    """
    model_config = ConfigDict(arbitrary_types_allowed=True)
    tag: Hashable
    fig: plt.Figure
    ax: plt.Axes

    @classmethod
    def new(cls, tag: Hashable):
        """
        Creates new figure and axis.  Returns new instance of this class.

        Args:
            tag (Hashable): tag (not yet used)

        Returns:
            (Type[Self]): New single axis figure
        """
        fig: plt.Figure = plt.figure()
        ax: plt.Axes = fig.add_subplot(1, 1, 1)
        return cls(
            tag=tag,
            fig=fig,
            ax=ax,
        )

    def apply_format(self, format2d: Format2D):
        """
        Applies format to figure and axes labels and limits

        Args:
            format2d (Format2D): format information to apply to the single axis figure
        """
        self.ax.set_title(format2d.title_ax)
        self.fig.suptitle(format2d.title_fig)
        with warnings.catch_warnings(action='ignore', category=UserWarning):
            handles, labels = self.ax.get_legend_handles_labels()
            by_label = dict(zip(labels, handles))
            if by_label:
                self.ax.legend(by_label.values(), by_label.keys(), title=format2d.title_legend)
        self.ax.set_xlabel(format2d.label_x)
        self.ax.set_ylabel(format2d.label_y)
        self.ax.set_xlim(format2d.lim_x_min, format2d.lim_x_max)
        self.ax.set_ylim(format2d.lim_y_min, format2d.lim_y_max)
        return self

    def savefig(self, path: Path, dpi: int = 500):
        """
        Wrapper on matplotlib savefig method.  Saves figure to given path with given dpi resolution.

        Returns:
            (Self): Returns self
        """
        self.fig.savefig(path, dpi=dpi)
        return self

    def __del__(self):
        """
        Closes stored matplotlib figure before deleting reference to object.
        """
        plt.close(self.fig)</code></pre>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="trendify.products.SingleAxisFigure.__del__" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">__del__</span>


<a href="#trendify.products.SingleAxisFigure.__del__" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">__del__()</code></pre>

    <div class="doc doc-contents ">

        <p>Closes stored matplotlib figure before deleting reference to object.</p>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def __del__(self):
    """
    Closes stored matplotlib figure before deleting reference to object.
    """
    plt.close(self.fig)</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="trendify.products.SingleAxisFigure.apply_format" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">apply_format</span>


<a href="#trendify.products.SingleAxisFigure.apply_format" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">apply_format(format2d: <a class="autorefs autorefs-internal" title="trendify.products.Format2D" href="#trendify.products.Format2D">Format2D</a>)</code></pre>

    <div class="doc doc-contents ">

        <p>Applies format to figure and axes labels and limits</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>format2d</code></b>
              (<code><a class="autorefs autorefs-internal" title="trendify.products.Format2D" href="#trendify.products.Format2D">Format2D</a></code>)
          
          <div class="doc-md-description">
            <p>format information to apply to the single axis figure</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def apply_format(self, format2d: Format2D):
    """
    Applies format to figure and axes labels and limits

    Args:
        format2d (Format2D): format information to apply to the single axis figure
    """
    self.ax.set_title(format2d.title_ax)
    self.fig.suptitle(format2d.title_fig)
    with warnings.catch_warnings(action='ignore', category=UserWarning):
        handles, labels = self.ax.get_legend_handles_labels()
        by_label = dict(zip(labels, handles))
        if by_label:
            self.ax.legend(by_label.values(), by_label.keys(), title=format2d.title_legend)
    self.ax.set_xlabel(format2d.label_x)
    self.ax.set_ylabel(format2d.label_y)
    self.ax.set_xlim(format2d.lim_x_min, format2d.lim_x_max)
    self.ax.set_ylim(format2d.lim_y_min, format2d.lim_y_max)
    return self</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="trendify.products.SingleAxisFigure.new" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">new</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#trendify.products.SingleAxisFigure.new" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">new(tag: <a class="autorefs autorefs-external" title="typing.Hashable" href="https://docs.python.org/3/library/typing.html#typing.Hashable">Hashable</a>)</code></pre>

    <div class="doc doc-contents ">

        <p>Creates new figure and axis.  Returns new instance of this class.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>tag</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Hashable" href="https://docs.python.org/3/library/typing.html#typing.Hashable">Hashable</a></code>)
          
          <div class="doc-md-description">
            <p>tag (not yet used)</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" title="typing.Type" href="https://docs.python.org/3/library/typing.html#typing.Type">Type</a>[<a class="autorefs autorefs-external" title="typing.Self" href="https://docs.python.org/3/library/typing.html#typing.Self">Self</a>]</code>
          
          <div class="doc-md-description">
            <p>New single axis figure</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">@classmethod
def new(cls, tag: Hashable):
    """
    Creates new figure and axis.  Returns new instance of this class.

    Args:
        tag (Hashable): tag (not yet used)

    Returns:
        (Type[Self]): New single axis figure
    """
    fig: plt.Figure = plt.figure()
    ax: plt.Axes = fig.add_subplot(1, 1, 1)
    return cls(
        tag=tag,
        fig=fig,
        ax=ax,
    )</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="trendify.products.SingleAxisFigure.savefig" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">savefig</span>


<a href="#trendify.products.SingleAxisFigure.savefig" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">savefig(path: <a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>, dpi: <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a> = 500)</code></pre>

    <div class="doc doc-contents ">

        <p>Wrapper on matplotlib savefig method.  Saves figure to given path with given dpi resolution.</p>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" title="typing.Self" href="https://docs.python.org/3/library/typing.html#typing.Self">Self</a></code>
          
          <div class="doc-md-description">
            <p>Returns self</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def savefig(self, path: Path, dpi: int = 500):
    """
    Wrapper on matplotlib savefig method.  Saves figure to given path with given dpi resolution.

    Returns:
        (Self): Returns self
    """
    self.fig.savefig(path, dpi=dpi)
    return self</code></pre>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="trendify.products.TableBuilder" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">TableBuilder</span>


<a href="#trendify.products.TableBuilder" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">


        <p>Builds tables (melted, pivot, and stats) for histogramming and including in a report or Grafana dashboard.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>in_dirs</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>]</code>)
          
          <div class="doc-md-description">
            <p>directories from which to load data products</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>out_dir</code></b>
              (<code><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></code>)
          
          <div class="doc-md-description">
            <p>directory in which tables should be saved</p>
          </div>
        </li>
    </ul>






              <details class="quote">
                <summary>Source code in <code>src/trendify/products.py</code></summary>
                <pre class="highlight"><code class="language-python">class TableBuilder:
    """
    Builds tables (melted, pivot, and stats) for histogramming and including in a report or Grafana dashboard.

    Args:
        in_dirs (List[Path]): directories from which to load data products
        out_dir (Path): directory in which tables should be saved
    """
    def __init__(
            self,
            in_dirs: List[Path],
            out_dir: Path,
        ):
        self.in_dirs = in_dirs
        self.out_dir = out_dir

    def load_table(
            self,
            tag: Hashable,
        ):
        """
        Collects table entries from JSON files corresponding to given tag and processes them.

        Saves CSV files for the melted data frame, pivot dataframe, and pivot dataframe stats.

        File names will all use the tag with different suffixes 
        `'tag_melted.csv'`, `'tag_pivot.csv'`, `'name_stats.csv'`.

        Args:
            tag (Hashable): product tag for which to collect and process.
        """
        print(f'Making table for {tag = }')

        table_entries: List[TableEntry] = []
        for subdir in self.in_dirs:
            collection = DataProductCollection.model_validate_json(subdir.joinpath(DATA_PRODUCTS_FNAME).read_text())
            table_entries.extend(collection.get_products(tag=tag, object_type=TableEntry).elements)

        self.process_table_entries(tag=tag, table_entries=table_entries, out_dir=self.out_dir)

    @classmethod
    def process_table_entries(
            cls,
            tag: Hashable,
            table_entries: List[TableEntry],
            out_dir: Path,
        ):
        """

        Saves CSV files for the melted data frame, pivot dataframe, and pivot dataframe stats.

        File names will all use the tag with different suffixes 
        `'tag_melted.csv'`, `'tag_pivot.csv'`, `'name_stats.csv'`.

        Args:
            tag (Hashable): product tag for which to collect and process.
            table_entries (List[TableEntry]): List of table entries
            out_dir (Path): Directory to which table CSV files should be saved
        """
        melted = pd.DataFrame([t.get_entry_dict() for t in table_entries])
        pivot = TableEntry.pivot_table(melted=melted)
        if pivot is None:
            print(f'Could not generate pivot table for {tag = }')
        else:
            stats = cls.get_stats_table(df=pivot)

        save_path_partial = out_dir.joinpath(*tuple(atleast_1d(tag)))
        save_path_partial.parent.mkdir(exist_ok=True, parents=True)
        print(f'Saving to {str(save_path_partial)}_*.csv')

        melted.to_csv(save_path_partial.with_stem(save_path_partial.stem + '_melted').with_suffix('.csv'), index=False)
        if pivot is not None:
            pivot.to_csv(save_path_partial.with_stem(save_path_partial.stem + '_pivot').with_suffix('.csv'), index=True)
            stats.to_csv(save_path_partial.with_stem(save_path_partial.stem + '_stats').with_suffix('.csv'), index=True)

    @classmethod
    def get_stats_table(
            cls, 
            df: pd.DataFrame,
        ):
        """
        Computes multiple statistics for each column

        Args:
            df (pd.DataFrame): DataFrame for which the column statistics are to be calculated.

        Returns:
            (pd.DataFrame): Dataframe having statistics (column headers) for each of the columns
                of the input `df`.  The columns of `df` will be the row indices of the stats table.
        """
        stats = {
            'min': df.min(axis=0),
            'max': df.max(axis=0),
            'mean': df.mean(axis=0),
            'sigma3': df.std(axis=0)*3,
        }
        df = pd.DataFrame(stats, index=df.columns)
        df.index.name = 'Name'
        return df</code></pre>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="trendify.products.TableBuilder.get_stats_table" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_stats_table</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#trendify.products.TableBuilder.get_stats_table" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">get_stats_table(df: <a class="autorefs autorefs-external" title="pandas.DataFrame" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame">DataFrame</a>)</code></pre>

    <div class="doc doc-contents ">

        <p>Computes multiple statistics for each column</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>df</code></b>
              (<code><a class="autorefs autorefs-external" title="pandas.DataFrame" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame">DataFrame</a></code>)
          
          <div class="doc-md-description">
            <p>DataFrame for which the column statistics are to be calculated.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" title="pandas.DataFrame" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame">DataFrame</a></code>
          
          <div class="doc-md-description">
            <p>Dataframe having statistics (column headers) for each of the columns
of the input <code>df</code>.  The columns of <code>df</code> will be the row indices of the stats table.</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">@classmethod
def get_stats_table(
        cls, 
        df: pd.DataFrame,
    ):
    """
    Computes multiple statistics for each column

    Args:
        df (pd.DataFrame): DataFrame for which the column statistics are to be calculated.

    Returns:
        (pd.DataFrame): Dataframe having statistics (column headers) for each of the columns
            of the input `df`.  The columns of `df` will be the row indices of the stats table.
    """
    stats = {
        'min': df.min(axis=0),
        'max': df.max(axis=0),
        'mean': df.mean(axis=0),
        'sigma3': df.std(axis=0)*3,
    }
    df = pd.DataFrame(stats, index=df.columns)
    df.index.name = 'Name'
    return df</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="trendify.products.TableBuilder.load_table" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">load_table</span>


<a href="#trendify.products.TableBuilder.load_table" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">load_table(tag: <a class="autorefs autorefs-external" title="typing.Hashable" href="https://docs.python.org/3/library/typing.html#typing.Hashable">Hashable</a>)</code></pre>

    <div class="doc doc-contents ">

        <p>Collects table entries from JSON files corresponding to given tag and processes them.</p>
<p>Saves CSV files for the melted data frame, pivot dataframe, and pivot dataframe stats.</p>
<p>File names will all use the tag with different suffixes 
<code>'tag_melted.csv'</code>, <code>'tag_pivot.csv'</code>, <code>'name_stats.csv'</code>.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>tag</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Hashable" href="https://docs.python.org/3/library/typing.html#typing.Hashable">Hashable</a></code>)
          
          <div class="doc-md-description">
            <p>product tag for which to collect and process.</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def load_table(
        self,
        tag: Hashable,
    ):
    """
    Collects table entries from JSON files corresponding to given tag and processes them.

    Saves CSV files for the melted data frame, pivot dataframe, and pivot dataframe stats.

    File names will all use the tag with different suffixes 
    `'tag_melted.csv'`, `'tag_pivot.csv'`, `'name_stats.csv'`.

    Args:
        tag (Hashable): product tag for which to collect and process.
    """
    print(f'Making table for {tag = }')

    table_entries: List[TableEntry] = []
    for subdir in self.in_dirs:
        collection = DataProductCollection.model_validate_json(subdir.joinpath(DATA_PRODUCTS_FNAME).read_text())
        table_entries.extend(collection.get_products(tag=tag, object_type=TableEntry).elements)

    self.process_table_entries(tag=tag, table_entries=table_entries, out_dir=self.out_dir)</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="trendify.products.TableBuilder.process_table_entries" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">process_table_entries</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#trendify.products.TableBuilder.process_table_entries" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">process_table_entries(
    tag: <a class="autorefs autorefs-external" title="typing.Hashable" href="https://docs.python.org/3/library/typing.html#typing.Hashable">Hashable</a>,
    table_entries: <a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-internal" title="trendify.products.TableEntry" href="#trendify.products.TableEntry">TableEntry</a>],
    out_dir: <a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>,
)</code></pre>

    <div class="doc doc-contents ">

        <p>Saves CSV files for the melted data frame, pivot dataframe, and pivot dataframe stats.</p>
<p>File names will all use the tag with different suffixes 
<code>'tag_melted.csv'</code>, <code>'tag_pivot.csv'</code>, <code>'name_stats.csv'</code>.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>tag</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Hashable" href="https://docs.python.org/3/library/typing.html#typing.Hashable">Hashable</a></code>)
          
          <div class="doc-md-description">
            <p>product tag for which to collect and process.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>table_entries</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-internal" title="trendify.products.TableEntry" href="#trendify.products.TableEntry">TableEntry</a>]</code>)
          
          <div class="doc-md-description">
            <p>List of table entries</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>out_dir</code></b>
              (<code><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></code>)
          
          <div class="doc-md-description">
            <p>Directory to which table CSV files should be saved</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">@classmethod
def process_table_entries(
        cls,
        tag: Hashable,
        table_entries: List[TableEntry],
        out_dir: Path,
    ):
    """

    Saves CSV files for the melted data frame, pivot dataframe, and pivot dataframe stats.

    File names will all use the tag with different suffixes 
    `'tag_melted.csv'`, `'tag_pivot.csv'`, `'name_stats.csv'`.

    Args:
        tag (Hashable): product tag for which to collect and process.
        table_entries (List[TableEntry]): List of table entries
        out_dir (Path): Directory to which table CSV files should be saved
    """
    melted = pd.DataFrame([t.get_entry_dict() for t in table_entries])
    pivot = TableEntry.pivot_table(melted=melted)
    if pivot is None:
        print(f'Could not generate pivot table for {tag = }')
    else:
        stats = cls.get_stats_table(df=pivot)

    save_path_partial = out_dir.joinpath(*tuple(atleast_1d(tag)))
    save_path_partial.parent.mkdir(exist_ok=True, parents=True)
    print(f'Saving to {str(save_path_partial)}_*.csv')

    melted.to_csv(save_path_partial.with_stem(save_path_partial.stem + '_melted').with_suffix('.csv'), index=False)
    if pivot is not None:
        pivot.to_csv(save_path_partial.with_stem(save_path_partial.stem + '_pivot').with_suffix('.csv'), index=True)
        stats.to_csv(save_path_partial.with_stem(save_path_partial.stem + '_stats').with_suffix('.csv'), index=True)</code></pre>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="trendify.products.TableEntry" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">TableEntry</span>


<a href="#trendify.products.TableEntry" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="trendify.products.DataProduct" href="#trendify.products.DataProduct">DataProduct</a></code></p>


        <p>Defines an entry to be collected into a table.</p>
<p>Collected table entries will be printed in three forms when possible: melted, pivot (when possible), and stats (on pivot columns, when possible).</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.TableEntry.product_type">product_type</span></code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a>[&#39;Trace2D&#39;]</code>)
          
          <div class="doc-md-description">
            <p>Name of class type to be used as a constructor.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.TableEntry.row">row</span></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>)
          
          <div class="doc-md-description">
            <p>Value to be binned</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.TableEntry.col">col</span></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>)
          
          <div class="doc-md-description">
            <p>Hashable tags used to sort data products</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.TableEntry.value">value</span></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>)
          
          <div class="doc-md-description">
            <p>Style of histogram display</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.TableEntry.unit">unit</span></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | None</code>)
          
          <div class="doc-md-description">
            <p>Format to apply to single axis figure</p>
          </div>
        </li>
    </ul>






              <details class="quote">
                <summary>Source code in <code>src/trendify/products.py</code></summary>
                <pre class="highlight"><code class="language-python">class TableEntry(DataProduct):
    """
    Defines an entry to be collected into a table.

    Collected table entries will be printed in three forms when possible: melted, pivot (when possible), and stats (on pivot columns, when possible).

    Attributes:
        product_type (Literal['Trace2D']): Name of class type to be used as a constructor.
        row (float | str): Value to be binned
        col (float | str): Hashable tags used to sort data products
        value (float | str): Style of histogram display
        unit (str | None): Format to apply to single axis figure
    """
    product_type: Literal['TableEntry'] = 'TableEntry'
    row: float | str
    col: float | str
    value: float | str | bool
    unit: str | None

    class Config:
        extra = "forbid"

    def get_entry_dict(self):
        """
        Returns a dictionary of entries to be used in creating a table.

        Returns:
            (dict[str, str | float]): Dictionary of entries to be used in creating a melted [DataFrame][pandas.DataFrame]
        """
        return {'row': self.row, 'col': self.col, 'value': self.value, 'unit': self.unit}

    @classmethod
    def pivot_table(cls, melted: pd.DataFrame):
        """
        Attempts to pivot melted row, col, value DataFrame into a wide form DataFrame

        Args:
            melted (pd.DataFrame): Melted data frame having columns named `'row'`, `'col'`, `'value'`.

        Returns:
            (pd.DataFrame | None): pivoted DataFrame if pivot works else `None`. Pivot operation fails if 
                row or column index pairs are repeated.
        """
        try:
            result = melted.pivot(index='row', columns='col', values='value')
        except ValueError:
            result = None
        return result

    @classmethod
    def load_and_pivot(cls, path: Path):
        """
        Loads melted table from csv and pivots to wide form.
        csv should have columns named `'row'`, `'col'`, and `'value'`.

        Args:
            path (Path): path to CSV file

        Returns:
            (pd.DataFrame | None): Pivoted data frame or elese `None` if pivot operation fails.
        """
        return cls.pivot_table(melted=pd.read_csv(path))</code></pre>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="trendify.products.TableEntry.get_entry_dict" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_entry_dict</span>


<a href="#trendify.products.TableEntry.get_entry_dict" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">get_entry_dict()</code></pre>

    <div class="doc doc-contents ">

        <p>Returns a dictionary of entries to be used in creating a table.</p>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>]</code>
          
          <div class="doc-md-description">
            <p>Dictionary of entries to be used in creating a melted <a class="autorefs autorefs-external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame">DataFrame</a></p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def get_entry_dict(self):
    """
    Returns a dictionary of entries to be used in creating a table.

    Returns:
        (dict[str, str | float]): Dictionary of entries to be used in creating a melted [DataFrame][pandas.DataFrame]
    """
    return {'row': self.row, 'col': self.col, 'value': self.value, 'unit': self.unit}</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="trendify.products.TableEntry.load_and_pivot" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">load_and_pivot</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#trendify.products.TableEntry.load_and_pivot" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">load_and_pivot(path: <a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>)</code></pre>

    <div class="doc doc-contents ">

        <p>Loads melted table from csv and pivots to wide form.
csv should have columns named <code>'row'</code>, <code>'col'</code>, and <code>'value'</code>.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>path</code></b>
              (<code><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></code>)
          
          <div class="doc-md-description">
            <p>path to CSV file</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" title="pandas.DataFrame" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame">DataFrame</a> | None</code>
          
          <div class="doc-md-description">
            <p>Pivoted data frame or elese <code>None</code> if pivot operation fails.</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">@classmethod
def load_and_pivot(cls, path: Path):
    """
    Loads melted table from csv and pivots to wide form.
    csv should have columns named `'row'`, `'col'`, and `'value'`.

    Args:
        path (Path): path to CSV file

    Returns:
        (pd.DataFrame | None): Pivoted data frame or elese `None` if pivot operation fails.
    """
    return cls.pivot_table(melted=pd.read_csv(path))</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="trendify.products.TableEntry.pivot_table" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">pivot_table</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#trendify.products.TableEntry.pivot_table" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">pivot_table(melted: <a class="autorefs autorefs-external" title="pandas.DataFrame" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame">DataFrame</a>)</code></pre>

    <div class="doc doc-contents ">

        <p>Attempts to pivot melted row, col, value DataFrame into a wide form DataFrame</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>melted</code></b>
              (<code><a class="autorefs autorefs-external" title="pandas.DataFrame" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame">DataFrame</a></code>)
          
          <div class="doc-md-description">
            <p>Melted data frame having columns named <code>'row'</code>, <code>'col'</code>, <code>'value'</code>.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" title="pandas.DataFrame" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame">DataFrame</a> | None</code>
          
          <div class="doc-md-description">
            <p>pivoted DataFrame if pivot works else <code>None</code>. Pivot operation fails if 
row or column index pairs are repeated.</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">@classmethod
def pivot_table(cls, melted: pd.DataFrame):
    """
    Attempts to pivot melted row, col, value DataFrame into a wide form DataFrame

    Args:
        melted (pd.DataFrame): Melted data frame having columns named `'row'`, `'col'`, `'value'`.

    Returns:
        (pd.DataFrame | None): pivoted DataFrame if pivot works else `None`. Pivot operation fails if 
            row or column index pairs are repeated.
    """
    try:
        result = melted.pivot(index='row', columns='col', values='value')
    except ValueError:
        result = None
    return result</code></pre>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="trendify.products.Trace2D" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">Trace2D</span>


<a href="#trendify.products.Trace2D" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="trendify.products.XYData" href="#trendify.products.XYData">XYData</a></code></p>


        <p>A collection of points comprising a trace.
Use the <a class="autorefs autorefs-internal" href="#trendify.products.Trace2D.from_xy">Trace2D.from_xy</a> constructor.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.Trace2D.product_type">product_type</span></code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a>[&#39;Trace2D&#39;]</code>)
          
          <div class="doc-md-description">
            <p>Name of class type to be used as a constructor.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.Trace2D.points">points</span></code></b>
              (<code><a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-internal" title="trendify.products.Point2D" href="#trendify.products.Point2D">Point2D</a>]</code>)
          
          <div class="doc-md-description">
            <p>List of points.  Usually the points would have null values 
for <code>marker</code> and <code>format2d</code> fields to save space.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.Trace2D.pen">pen</span></code></b>
              (<code><a class="autorefs autorefs-internal" title="trendify.products.Pen" href="#trendify.products.Pen">Pen</a></code>)
          
          <div class="doc-md-description">
            <p>Style and label information for drawing to matplotlib axes.
Only the label information is used in Grafana.
Eventually style information will be used in grafana.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="trendify.products.Trace2D.format2d">format2d</span></code></b>
              (<code><a class="autorefs autorefs-internal" title="trendify.products.Format2D" href="#trendify.products.Format2D">Format2D</a></code>)
          
          <div class="doc-md-description">
            <p>Formatting information for matplotlib figure.</p>
          </div>
        </li>
    </ul>






              <details class="quote">
                <summary>Source code in <code>src/trendify/products.py</code></summary>
                <pre class="highlight"><code class="language-python">class Trace2D(XYData):
    """
    A collection of points comprising a trace.
    Use the [Trace2D.from_xy][trendify.products.Trace2D.from_xy] constructor.

    Attributes:
        product_type (Literal['Trace2D']): Name of class type to be used as a constructor.
        points (List[Point2D]): List of points.  Usually the points would have null values 
            for `marker` and `format2d` fields to save space.
        pen (Pen): Style and label information for drawing to matplotlib axes.
            Only the label information is used in Grafana.
            Eventually style information will be used in grafana.
        format2d (Format2D): Formatting information for matplotlib figure.
    """
    product_type: Literal['Trace2D'] = 'Trace2D'
    points: List[Point2D]
    # x: NDArray[Shape["*"], float]
    # y: NDArray[Shape["*"], float]
    pen: Pen = Pen()
    format2d: Format2D = Format2D()

    class Config:
        """
        Forbids extra attributes
        """
        extra = "forbid"  

    @property
    def x(self):
        """
        Returns an array of x values from `self.points`

        Returns:
            (NDArray[Shape["*"], float]): array of x values from `self.points`
        '"""
        return np.array([p.x for p in self.points])

    @property
    def y(self):
        """
        Returns an array of y values from `self.points`

        Returns:
            (NDArray[Shape["*"], float]): array of y values from `self.points`
        """
        return np.array([p.y for p in self.points])

    def propagate_format2d_and_pen(self, marker_symbol='.') -&gt; None:
        """
        Propagates format and style info to all `self.points` (in-place).
        I thought this would  be useful for grafana before I learned better methods for propagating the data.
        It still may end up being useful if my plotting method changes.  Keeping for potential future use case.

        Args:
            marker_symbol (str): Valid matplotlib marker symbol
        """
        self.points = [
            p.model_copy(
                update={
                    'tags': self.tags,
                    'format2d': self.format2d,
                    'marker': Marker.from_pen(self.pen, symbol=marker_symbol)
                }
            ) 
            for p 
            in self.points
        ]

    @classmethod
    def from_xy(
            cls,
            tags: Tags,
            x: NDArray[Shape["*"], float],
            y: NDArray[Shape["*"], float],
            pen: Pen = Pen(),
            format2d: Format2D = Format2D(),
        ):
        """
        Creates a list of [Point2D][trendify.products.Point2D]s from xy data and returns a new [Trace2D][trendify.products.Trace2D] product.

        Args:
            tags (Tags): Hashable tags used to sort data products
            x (NDArray[Shape["*"], float]): x values
            y (NDArray[Shape["*"], float]): y values
            pen (Pen): Style and label for trace
            format2d (Format2D): format to apply to matplotlib
        """
        return cls(
            tags = tags,
            points = [
                Point2D(
                    tags=[None],
                    x=x_,
                    y=y_,
                    marker=None,
                    format2d=None,
                )
                for x_, y_
                in zip(x, y)
            ],
            pen=pen,
            format2d=format2d,
        )

    def plot_to_ax(self, ax: plt.Axes):
        """
        Plots xy data from trace to a matplotlib axes object.

        Args:
            ax (plt.Axes): axes to which xy data should be plotted
        """
        ax.plot(self.x, self.y, **self.pen.as_scatter_plot_kwargs())</code></pre>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="trendify.products.Trace2D.x" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">x</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#trendify.products.Trace2D.x" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">x</code></pre>

    <div class="doc doc-contents ">

        <p>Returns an array of x values from <code>self.points</code></p>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" title="numpydantic.NDArray" href="https://numpydantic.readthedocs.io/en/latest/api/index.html#numpydantic.NDArray">NDArray</a>[<a class="autorefs autorefs-external" title="numpydantic.Shape" href="https://numpydantic.readthedocs.io/en/latest/api/index.html#numpydantic.Shape">Shape</a>[&#39;*&#39;], <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>]</code>
          
          <div class="doc-md-description">
            <p>array of x values from <code>self.points</code></p>
          </div>
        </li>
    </ul>
        <p>'</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="trendify.products.Trace2D.y" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">y</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#trendify.products.Trace2D.y" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">y</code></pre>

    <div class="doc doc-contents ">

        <p>Returns an array of y values from <code>self.points</code></p>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" title="numpydantic.NDArray" href="https://numpydantic.readthedocs.io/en/latest/api/index.html#numpydantic.NDArray">NDArray</a>[<a class="autorefs autorefs-external" title="numpydantic.Shape" href="https://numpydantic.readthedocs.io/en/latest/api/index.html#numpydantic.Shape">Shape</a>[&#39;*&#39;], <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>]</code>
          
          <div class="doc-md-description">
            <p>array of y values from <code>self.points</code></p>
          </div>
        </li>
    </ul>
    </div>

</div>


<div class="doc doc-object doc-class">



<h4 id="trendify.products.Trace2D.Config" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">Config</span>


<a href="#trendify.products.Trace2D.Config" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">


        <p>Forbids extra attributes</p>






              <details class="quote">
                <summary>Source code in <code>src/trendify/products.py</code></summary>
                <pre class="highlight"><code class="language-python">class Config:
    """
    Forbids extra attributes
    """
    extra = "forbid"  </code></pre>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h4 id="trendify.products.Trace2D.from_xy" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">from_xy</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#trendify.products.Trace2D.from_xy" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">from_xy(
    tags: <a class="autorefs autorefs-internal" title="trendify.products.Tags" href="#trendify.products.Tags">Tags</a>,
    x: <a class="autorefs autorefs-external" title="numpydantic.NDArray" href="https://numpydantic.readthedocs.io/en/latest/api/index.html#numpydantic.NDArray">NDArray</a>[<a class="autorefs autorefs-external" title="numpydantic.Shape" href="https://numpydantic.readthedocs.io/en/latest/api/index.html#numpydantic.Shape">Shape</a>["*"], <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>],
    y: <a class="autorefs autorefs-external" title="numpydantic.NDArray" href="https://numpydantic.readthedocs.io/en/latest/api/index.html#numpydantic.NDArray">NDArray</a>[<a class="autorefs autorefs-external" title="numpydantic.Shape" href="https://numpydantic.readthedocs.io/en/latest/api/index.html#numpydantic.Shape">Shape</a>["*"], <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>],
    pen: <a class="autorefs autorefs-internal" title="trendify.products.Pen" href="#trendify.products.Pen">Pen</a> = <a class="autorefs autorefs-internal" title="trendify.products.Pen" href="#trendify.products.Pen">Pen</a>(),
    format2d: <a class="autorefs autorefs-internal" title="trendify.products.Format2D" href="#trendify.products.Format2D">Format2D</a> = <a class="autorefs autorefs-internal" title="trendify.products.Format2D" href="#trendify.products.Format2D">Format2D</a>(),
)</code></pre>

    <div class="doc doc-contents ">

        <p>Creates a list of <a class="autorefs autorefs-internal" href="#trendify.products.Point2D">Point2D</a>s from xy data and returns a new <a class="autorefs autorefs-internal" href="#trendify.products.Trace2D">Trace2D</a> product.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>tags</code></b>
              (<code><a class="autorefs autorefs-internal" title="trendify.products.Tags" href="#trendify.products.Tags">Tags</a></code>)
          
          <div class="doc-md-description">
            <p>Hashable tags used to sort data products</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>x</code></b>
              (<code><a class="autorefs autorefs-external" title="numpydantic.NDArray" href="https://numpydantic.readthedocs.io/en/latest/api/index.html#numpydantic.NDArray">NDArray</a>[<a class="autorefs autorefs-external" title="numpydantic.Shape" href="https://numpydantic.readthedocs.io/en/latest/api/index.html#numpydantic.Shape">Shape</a>[&#39;*&#39;], <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>]</code>)
          
          <div class="doc-md-description">
            <p>x values</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>y</code></b>
              (<code><a class="autorefs autorefs-external" title="numpydantic.NDArray" href="https://numpydantic.readthedocs.io/en/latest/api/index.html#numpydantic.NDArray">NDArray</a>[<a class="autorefs autorefs-external" title="numpydantic.Shape" href="https://numpydantic.readthedocs.io/en/latest/api/index.html#numpydantic.Shape">Shape</a>[&#39;*&#39;], <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>]</code>)
          
          <div class="doc-md-description">
            <p>y values</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>pen</code></b>
              (<code><a class="autorefs autorefs-internal" title="trendify.products.Pen" href="#trendify.products.Pen">Pen</a></code>, default:
                  <code><a class="autorefs autorefs-internal" title="trendify.products.Pen" href="#trendify.products.Pen">Pen</a>()</code>
)
          
          <div class="doc-md-description">
            <p>Style and label for trace</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>format2d</code></b>
              (<code><a class="autorefs autorefs-internal" title="trendify.products.Format2D" href="#trendify.products.Format2D">Format2D</a></code>, default:
                  <code><a class="autorefs autorefs-internal" title="trendify.products.Format2D" href="#trendify.products.Format2D">Format2D</a>()</code>
)
          
          <div class="doc-md-description">
            <p>format to apply to matplotlib</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">@classmethod
def from_xy(
        cls,
        tags: Tags,
        x: NDArray[Shape["*"], float],
        y: NDArray[Shape["*"], float],
        pen: Pen = Pen(),
        format2d: Format2D = Format2D(),
    ):
    """
    Creates a list of [Point2D][trendify.products.Point2D]s from xy data and returns a new [Trace2D][trendify.products.Trace2D] product.

    Args:
        tags (Tags): Hashable tags used to sort data products
        x (NDArray[Shape["*"], float]): x values
        y (NDArray[Shape["*"], float]): y values
        pen (Pen): Style and label for trace
        format2d (Format2D): format to apply to matplotlib
    """
    return cls(
        tags = tags,
        points = [
            Point2D(
                tags=[None],
                x=x_,
                y=y_,
                marker=None,
                format2d=None,
            )
            for x_, y_
            in zip(x, y)
        ],
        pen=pen,
        format2d=format2d,
    )</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="trendify.products.Trace2D.plot_to_ax" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">plot_to_ax</span>


<a href="#trendify.products.Trace2D.plot_to_ax" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">plot_to_ax(ax: <span title="matplotlib.pyplot.Axes">Axes</span>)</code></pre>

    <div class="doc doc-contents ">

        <p>Plots xy data from trace to a matplotlib axes object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>ax</code></b>
              (<code><span title="matplotlib.pyplot.Axes">Axes</span></code>)
          
          <div class="doc-md-description">
            <p>axes to which xy data should be plotted</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def plot_to_ax(self, ax: plt.Axes):
    """
    Plots xy data from trace to a matplotlib axes object.

    Args:
        ax (plt.Axes): axes to which xy data should be plotted
    """
    ax.plot(self.x, self.y, **self.pen.as_scatter_plot_kwargs())</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="trendify.products.Trace2D.propagate_format2d_and_pen" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">propagate_format2d_and_pen</span>


<a href="#trendify.products.Trace2D.propagate_format2d_and_pen" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">propagate_format2d_and_pen(marker_symbol='.') -&gt; None</code></pre>

    <div class="doc doc-contents ">

        <p>Propagates format and style info to all <code>self.points</code> (in-place).
I thought this would  be useful for grafana before I learned better methods for propagating the data.
It still may end up being useful if my plotting method changes.  Keeping for potential future use case.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>marker_symbol</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;.&#39;</code>
)
          
          <div class="doc-md-description">
            <p>Valid matplotlib marker symbol</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def propagate_format2d_and_pen(self, marker_symbol='.') -&gt; None:
    """
    Propagates format and style info to all `self.points` (in-place).
    I thought this would  be useful for grafana before I learned better methods for propagating the data.
    It still may end up being useful if my plotting method changes.  Keeping for potential future use case.

    Args:
        marker_symbol (str): Valid matplotlib marker symbol
    """
    self.points = [
        p.model_copy(
            update={
                'tags': self.tags,
                'format2d': self.format2d,
                'marker': Marker.from_pen(self.pen, symbol=marker_symbol)
            }
        ) 
        for p 
        in self.points
    ]</code></pre>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="trendify.products.XYData" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">XYData</span>


<a href="#trendify.products.XYData" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="trendify.products.DataProduct" href="#trendify.products.DataProduct">DataProduct</a></code></p>


        <p>Base class for children of DataProduct to be plotted ax xy data on a 2D plot</p>






              <details class="quote">
                <summary>Source code in <code>src/trendify/products.py</code></summary>
                <pre class="highlight"><code class="language-python">class XYData(DataProduct):
    """
    Base class for children of DataProduct to be plotted ax xy data on a 2D plot
    """</code></pre>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="trendify.products.XYDataPlotter" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">XYDataPlotter</span>


<a href="#trendify.products.XYDataPlotter" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">


        <p>Plots xy data from user-specified directories to a single axis figure</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>in_dirs</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>]</code>)
          
          <div class="doc-md-description">
            <p>Directories in which to search for data products from JSON files</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>out_dir</code></b>
              (<code><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></code>)
          
          <div class="doc-md-description">
            <p>directory to which figure will be output</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>dpi</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>500</code>
)
          
          <div class="doc-md-description">
            <p>Saved image resolution</p>
          </div>
        </li>
    </ul>






              <details class="quote">
                <summary>Source code in <code>src/trendify/products.py</code></summary>
                <pre class="highlight"><code class="language-python">class XYDataPlotter:
    """
    Plots xy data from user-specified directories to a single axis figure

    Args:
        in_dirs (List[Path]): Directories in which to search for data products from JSON files
        out_dir (Path): directory to which figure will be output
        dpi (int): Saved image resolution
    """
    def __init__(
            self,
            in_dirs: List[Path],
            out_dir: Path,
            dpi: int = 500,
        ):
        self.in_dirs = in_dirs
        self.out_dir = out_dir
        self.dpi = dpi

    def plot(
            self,  
            tag: Hashable, 
        ):
        """
        - Collects data from json files in stored `self.in_dirs`, 
        - plots the relevant products,
        - applies labels and formatting, 
        - saves the figure
        - closes matplotlib figure

        Args:
            tag (Hashable): data tag for which products are to be collected and plotted.
        """
        print(f'Making xy plot for {tag = }')
        saf = SingleAxisFigure.new(tag=tag)

        for subdir in self.in_dirs:
            collection = DataProductCollection.model_validate_json(subdir.joinpath(DATA_PRODUCTS_FNAME).read_text())
            traces: List[Trace2D] = collection.get_products(tag=tag, object_type=Trace2D).elements
            points: List[Point2D] = collection.get_products(tag=tag, object_type=Point2D).elements

            if points or traces:
                if points:
                    markers = set([p.marker for p in points])
                    for marker in markers:
                        matching_points = [p for p in points if p.marker == marker]
                        x = [p.x for p in matching_points]
                        y = [p.y for p in matching_points]
                        if x and y:
                            if marker is not None:
                                saf.ax.scatter(x, y, **marker.as_scatter_plot_kwargs())
                            else:
                                saf.ax.scatter(x, y)

                for trace in traces:
                    trace.plot_to_ax(saf.ax)

                formats = list(set([p.format2d for p in points if p.format2d] + [t.format2d for t in traces]) - {None})
                format2d = Format2D.union_from_iterable(formats)
                saf.apply_format(format2d)
                # saf.ax.autoscale(enable=True, axis='both', tight=True)

        save_path = self.out_dir.joinpath(*tuple(atleast_1d(tag))).with_suffix('.jpg')
        save_path.parent.mkdir(exist_ok=True, parents=True)
        print(f'Saving to {save_path = }')
        saf.savefig(path=save_path, dpi=self.dpi)
        del saf

    @classmethod
    def handle_points_and_traces(
            cls,
            tag: Hashable,
            points: List[Point2D],
            traces: List[Trace2D],
            dir_out: Path,
            dpi: int,
        ):
        """
        Plots points and traces, formats figure, saves figure, and closes matplotlinb figure.

        Args:
            tag (Hashable): Tag  corresponding to the provided points and traces
            points (List[Point2D]): Points to be scattered
            traces (List[Trace2D]): List of traces to be plotted
            dir_out (Path): directory to output the plot
            dpi (int): resolution of plot
        """

        saf = SingleAxisFigure.new(tag=tag)

        if points:
            markers = set([p.marker for p in points])
            for marker in markers:
                matching_points = [p for p in points if p.marker == marker]
                x = [p.x for p in matching_points]
                y = [p.y for p in matching_points]
                if x and y:
                    saf.ax.scatter(x, y, **marker.as_scatter_plot_kwargs())

        for trace in traces:
            trace.plot_to_ax(saf.ax)

        formats = list(set([p.format2d for p in points] + [t.format2d for t in traces]))
        format2d = Format2D.union_from_iterable(formats)
        saf.apply_format(format2d)
        # saf.ax.autoscale(enable=True, axis='both', tight=True)

        save_path = dir_out.joinpath(*tuple(atleast_1d(tag))).with_suffix('.jpg')
        save_path.parent.mkdir(exist_ok=True, parents=True)
        print(f'Saving to {save_path = }')
        saf.savefig(path=save_path, dpi=dpi)
        del saf</code></pre>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="trendify.products.XYDataPlotter.handle_points_and_traces" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">handle_points_and_traces</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#trendify.products.XYDataPlotter.handle_points_and_traces" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">handle_points_and_traces(
    tag: <a class="autorefs autorefs-external" title="typing.Hashable" href="https://docs.python.org/3/library/typing.html#typing.Hashable">Hashable</a>,
    points: <a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-internal" title="trendify.products.Point2D" href="#trendify.products.Point2D">Point2D</a>],
    traces: <a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-internal" title="trendify.products.Trace2D" href="#trendify.products.Trace2D">Trace2D</a>],
    dir_out: <a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>,
    dpi: <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a>,
)</code></pre>

    <div class="doc doc-contents ">

        <p>Plots points and traces, formats figure, saves figure, and closes matplotlinb figure.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>tag</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Hashable" href="https://docs.python.org/3/library/typing.html#typing.Hashable">Hashable</a></code>)
          
          <div class="doc-md-description">
            <p>Tag  corresponding to the provided points and traces</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>points</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-internal" title="trendify.products.Point2D" href="#trendify.products.Point2D">Point2D</a>]</code>)
          
          <div class="doc-md-description">
            <p>Points to be scattered</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>traces</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-internal" title="trendify.products.Trace2D" href="#trendify.products.Trace2D">Trace2D</a>]</code>)
          
          <div class="doc-md-description">
            <p>List of traces to be plotted</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>dir_out</code></b>
              (<code><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></code>)
          
          <div class="doc-md-description">
            <p>directory to output the plot</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>dpi</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>)
          
          <div class="doc-md-description">
            <p>resolution of plot</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">@classmethod
def handle_points_and_traces(
        cls,
        tag: Hashable,
        points: List[Point2D],
        traces: List[Trace2D],
        dir_out: Path,
        dpi: int,
    ):
    """
    Plots points and traces, formats figure, saves figure, and closes matplotlinb figure.

    Args:
        tag (Hashable): Tag  corresponding to the provided points and traces
        points (List[Point2D]): Points to be scattered
        traces (List[Trace2D]): List of traces to be plotted
        dir_out (Path): directory to output the plot
        dpi (int): resolution of plot
    """

    saf = SingleAxisFigure.new(tag=tag)

    if points:
        markers = set([p.marker for p in points])
        for marker in markers:
            matching_points = [p for p in points if p.marker == marker]
            x = [p.x for p in matching_points]
            y = [p.y for p in matching_points]
            if x and y:
                saf.ax.scatter(x, y, **marker.as_scatter_plot_kwargs())

    for trace in traces:
        trace.plot_to_ax(saf.ax)

    formats = list(set([p.format2d for p in points] + [t.format2d for t in traces]))
    format2d = Format2D.union_from_iterable(formats)
    saf.apply_format(format2d)
    # saf.ax.autoscale(enable=True, axis='both', tight=True)

    save_path = dir_out.joinpath(*tuple(atleast_1d(tag))).with_suffix('.jpg')
    save_path.parent.mkdir(exist_ok=True, parents=True)
    print(f'Saving to {save_path = }')
    saf.savefig(path=save_path, dpi=dpi)
    del saf</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="trendify.products.XYDataPlotter.plot" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">plot</span>


<a href="#trendify.products.XYDataPlotter.plot" class="headerlink" title="Permanent link">&para;</a></h4>
<pre class="highlight"><code class="language-python doc-signature">plot(tag: <a class="autorefs autorefs-external" title="typing.Hashable" href="https://docs.python.org/3/library/typing.html#typing.Hashable">Hashable</a>)</code></pre>

    <div class="doc doc-contents ">

        <ul>
<li>Collects data from json files in stored <code>self.in_dirs</code>, </li>
<li>plots the relevant products,</li>
<li>applies labels and formatting, </li>
<li>saves the figure</li>
<li>closes matplotlib figure</li>
</ul>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>tag</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Hashable" href="https://docs.python.org/3/library/typing.html#typing.Hashable">Hashable</a></code>)
          
          <div class="doc-md-description">
            <p>data tag for which products are to be collected and plotted.</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def plot(
        self,  
        tag: Hashable, 
    ):
    """
    - Collects data from json files in stored `self.in_dirs`, 
    - plots the relevant products,
    - applies labels and formatting, 
    - saves the figure
    - closes matplotlib figure

    Args:
        tag (Hashable): data tag for which products are to be collected and plotted.
    """
    print(f'Making xy plot for {tag = }')
    saf = SingleAxisFigure.new(tag=tag)

    for subdir in self.in_dirs:
        collection = DataProductCollection.model_validate_json(subdir.joinpath(DATA_PRODUCTS_FNAME).read_text())
        traces: List[Trace2D] = collection.get_products(tag=tag, object_type=Trace2D).elements
        points: List[Point2D] = collection.get_products(tag=tag, object_type=Point2D).elements

        if points or traces:
            if points:
                markers = set([p.marker for p in points])
                for marker in markers:
                    matching_points = [p for p in points if p.marker == marker]
                    x = [p.x for p in matching_points]
                    y = [p.y for p in matching_points]
                    if x and y:
                        if marker is not None:
                            saf.ax.scatter(x, y, **marker.as_scatter_plot_kwargs())
                        else:
                            saf.ax.scatter(x, y)

            for trace in traces:
                trace.plot_to_ax(saf.ax)

            formats = list(set([p.format2d for p in points if p.format2d] + [t.format2d for t in traces]) - {None})
            format2d = Format2D.union_from_iterable(formats)
            saf.apply_format(format2d)
            # saf.ax.autoscale(enable=True, axis='both', tight=True)

    save_path = self.out_dir.joinpath(*tuple(atleast_1d(tag))).with_suffix('.jpg')
    save_path.parent.mkdir(exist_ok=True, parents=True)
    print(f'Saving to {save_path = }')
    saf.savefig(path=save_path, dpi=self.dpi)
    del saf</code></pre>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h3 id="trendify.products.atleast_1d" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">atleast_1d</span>


<a href="#trendify.products.atleast_1d" class="headerlink" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code class="language-python doc-signature">atleast_1d(obj: <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a>) -&gt; <a class="autorefs autorefs-external" title="typing.Iterable" href="https://docs.python.org/3/library/typing.html#typing.Iterable">Iterable</a></code></pre>

    <div class="doc doc-contents ">

        <p>Converts scalar objec to a list of length 1 or leaves an iterable object unchanged.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>obj</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></code>)
          
          <div class="doc-md-description">
            <p>Object that needs to be at least 1d</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" title="typing.Iterable" href="https://docs.python.org/3/library/typing.html#typing.Iterable">Iterable</a></code>
          
          <div class="doc-md-description">
            <p>Returns an iterable</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def atleast_1d(obj: Any) -&gt; Iterable:
    """
    Converts scalar objec to a list of length 1 or leaves an iterable object unchanged.

    Args:
        obj (Any): Object that needs to be at least 1d

    Returns:
        (Iterable): Returns an iterable
    """
    if not should_be_flattened(obj):
        return [obj]
    else:
        return obj</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="trendify.products.flatten" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">flatten</span>


<a href="#trendify.products.flatten" class="headerlink" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code class="language-python doc-signature">flatten(obj: <a class="autorefs autorefs-external" title="typing.Iterable" href="https://docs.python.org/3/library/typing.html#typing.Iterable">Iterable</a>)</code></pre>

    <div class="doc doc-contents ">

        <p>Recursively flattens iterable up to a point (leaves <code>str</code>, <code>bytes</code>, and <code>DataProduct</code> unflattened)</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>obj</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Iterable" href="https://docs.python.org/3/library/typing.html#typing.Iterable">Iterable</a></code>)
          
          <div class="doc-md-description">
            <p>Object to be flattened</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" title="typing.Iterable" href="https://docs.python.org/3/library/typing.html#typing.Iterable">Iterable</a></code>
          
          <div class="doc-md-description">
            <p>Flattned iterable</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def flatten(obj: Iterable):
    """
    Recursively flattens iterable up to a point (leaves `str`, `bytes`, and `DataProduct` unflattened)

    Args:
        obj (Iterable): Object to be flattened

    Returns:
        (Iterable): Flattned iterable
    """
    if not should_be_flattened(obj):
        yield obj
    else:
        for sublist in obj:
            yield from flatten(sublist)</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="trendify.products.get_sorted_dirs" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_sorted_dirs</span>


<a href="#trendify.products.get_sorted_dirs" class="headerlink" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code class="language-python doc-signature">get_sorted_dirs(dirs: <a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>])</code></pre>

    <div class="doc doc-contents ">

        <p>Sorts dirs numerically if possible, else alphabetically</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>dirs</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>]</code>)
          
          <div class="doc-md-description">
            <p>Directories to sort</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>]</code>
          
          <div class="doc-md-description">
            <p>Sorted list of directories</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def get_sorted_dirs(dirs: List[Path]):
    """
    Sorts dirs numerically if possible, else alphabetically

    Args:
        dirs (List[Path]): Directories to sort

    Returns:
        (List[Path]): Sorted list of directories
    """
    dirs = list(dirs)
    try:
        dirs.sort(key=lambda p: int(p.name))
    except ValueError:
        dirs.sort()
    return dirs</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="trendify.products.main" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">main</span>


<a href="#trendify.products.main" class="headerlink" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code class="language-python doc-signature">main()</code></pre>

    <div class="doc doc-contents ">

        <p>Makes sample data, processes it, and serves it for importing into Grafana</p>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def main():
    """
    Makes sample data, processes it, and serves it for importing into Grafana
    """
    here = Path(__file__).parent
    workdir = here.joinpath('workdir')

    make_sample_data(workdir=workdir, n_folders=100)

    process_dirs = list(workdir.joinpath('models').glob('*/'))
    products_dir = workdir.joinpath('products')
    outputs_dir = workdir.joinpath('outputs')
    grafana_dir = workdir.joinpath('grafana')
    n_procs = 1

    make_products(
        product_generator=sample_processor,
        dirs=process_dirs,
        n_procs=n_procs,
    )
    sort_products(
        data_dirs=process_dirs,
        output_dir=products_dir,
    )
    make_grafana_dashboard(
        sorted_products_dir=products_dir,
        output_dir=grafana_dir,
        n_procs=n_procs,
    )
    make_tables_and_figures(
        products_dir=products_dir,
        output_dir=outputs_dir,
        dpi=500,
        n_procs=n_procs,
    )
    make_include_files(
        root_dir=outputs_dir,
        heading_level=2,
    )
    process_batch(
        product_generator=sample_processor, 
        data_dirs=process_dirs, 
        products_dir=products_dir,
        outputs_dir=outputs_dir, 
        grafana_dir=grafana_dir,
        n_procs=1,
        dpi=300,
        make_tables=True,
        make_histograms=True,
        make_xy_plots=True,
    )</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="trendify.products.make_grafana_dashboard" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">make_grafana_dashboard</span>


<a href="#trendify.products.make_grafana_dashboard" class="headerlink" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code class="language-python doc-signature">make_grafana_dashboard(
    sorted_products_dir: <a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>,
    output_dir: <a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>,
    n_procs: <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a> = 1,
)</code></pre>

    <div class="doc doc-contents ">

        <p>Makes a JSON file to import to Grafana for displaying tagged data tables, histograms and XY plots.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>sorted_products_dir</code></b>
              (<code><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></code>)
          
          <div class="doc-md-description">
            <p>Root directory into which products have been sorted by tag</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>output_dir</code></b>
              (<code><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></code>)
          
          <div class="doc-md-description">
            <p>Root directory into which Grafana dashboard and panal definitions will be written</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>n_procs</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>1</code>
)
          
          <div class="doc-md-description">
            <p>Number of parallel tasks used for processing data product tags</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def make_grafana_dashboard(
        sorted_products_dir: Path,
        output_dir: Path,
        n_procs: int = 1,
    ):
    """
    Makes a JSON file to import to Grafana for displaying tagged data tables, histograms and XY plots.

    Args:
        sorted_products_dir (Path): Root directory into which products have been sorted by tag
        output_dir (Path): Root directory into which Grafana dashboard and panal definitions will be written
        n_procs (int): Number of parallel tasks used for processing data product tags
    """
    print(f'\n\n\nGenerating Grafana Dashboard JSON Spec in {output_dir} based on products in {sorted_products_dir}')
    output_dir.mkdir(parents=True, exist_ok=True)

    product_dirs = list(sorted_products_dir.glob('**/*/'))
    panel_dir = output_dir.joinpath('panels')
    map_callable(
        DataProductCollection.make_grafana_panels,
        product_dirs,
        [panel_dir] * len(product_dirs),
        n_procs=n_procs,
    )
    panels = [gapi.Panel.model_validate_json(p.read_text()) for p in panel_dir.glob('*.json')]
    dashboard = gapi.Dashboard(panels=panels)
    output_dir.joinpath('dashboard.json').write_text(dashboard.model_dump_json())
    print('\nFinished Generating Grafana Dashboard JSON Spec')</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="trendify.products.make_include_files" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">make_include_files</span>


<a href="#trendify.products.make_include_files" class="headerlink" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code class="language-python doc-signature">make_include_files(
    root_dir: <a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>,
    local_server_path: <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | <a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a> = None,
    mkdocs_include_dir: <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | <a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a> = None,
    heading_level: <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a> | None = None,
)</code></pre>

    <div class="doc doc-contents ">

        <p>Makes nested include files for inclusion into an MkDocs site.</p>


<details class="note" open>
  <summary>Note</summary>
  <p>I recommend to create a Grafana panel and link to that from the MkDocs site instead.</p>
</details>

<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>root_dir</code></b>
              (<code><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></code>)
          
          <div class="doc-md-description">
            <p>Directory for which the include files should be recursively generated</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>local_server_path</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | <a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a> | None</code>, default:
                  <code>None</code>
)
          
          <div class="doc-md-description">
            <p>What should the beginning of the path look like?
Use <code>//localhost:8001/...</code> something like that to work with <code>python -m mkdocs serve</code>
while running <code>python -m http.server 8001</code> in order to have interactive updates.
Use my python <code>convert_links.py</code> script to update after running <code>python -m mkdocs build</code>
in order to fix the links for the MkDocs site.  See this repo for an example.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>mkdocs_include_dir</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | <a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a> | None</code>, default:
                  <code>None</code>
)
          
          <div class="doc-md-description">
            <p>Path to be used for mkdocs includes.
This path should correspond to includ dir in <code>mkdocs.yml</code> file.  (See <code>vulcan_srb_sep</code> repo for example).</p>
          </div>
        </li>
    </ul>
        <p>Note:</p>
<div class="codehilite"><pre><span></span><code><span class="n">Here</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">set</span><span class="n">up</span><span class="w"> </span><span class="n n-Quoted">`mkdocs.yml`</span><span class="w"> </span><span class="k">file</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n n-Quoted">`include_dir`</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">to</span><span class="w"> </span>
<span class="n">include</span><span class="w"> </span><span class="k">generated</span><span class="w"> </span><span class="n">markdown</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="p">(</span><span class="k">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">images</span><span class="o">/</span><span class="n">CSVs</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="k">reference</span><span class="p">).</span>

<span class="n n-Quoted">`</span><span class="n n-Quoted n-Quoted-Escape">``</span>
<span class="n n-Quoted">plugins:</span>
<span class="n n-Quoted">  - macros:</span>
<span class="n n-Quoted">    include_dir: run_for_record</span>
<span class="n n-Quoted n-Quoted-Escape">``</span><span class="n n-Quoted">`</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def make_include_files(
        root_dir: Path,
        local_server_path: str | Path = None,
        mkdocs_include_dir: str | Path = None,
        # products_dir_replacement_path: str | Path = None,
        heading_level: int | None = None,
    ):
    """
    Makes nested include files for inclusion into an MkDocs site.

    Note:
        I recommend to create a Grafana panel and link to that from the MkDocs site instead.

    Args:
        root_dir (Path): Directory for which the include files should be recursively generated
        local_server_path (str|Path|None): What should the beginning of the path look like?
            Use `//localhost:8001/...` something like that to work with `python -m mkdocs serve`
            while running `python -m http.server 8001` in order to have interactive updates.
            Use my python `convert_links.py` script to update after running `python -m mkdocs build`
            in order to fix the links for the MkDocs site.  See this repo for an example.
        mkdocs_include_dir (str|Path|None): Path to be used for mkdocs includes.
            This path should correspond to includ dir in `mkdocs.yml` file.  (See `vulcan_srb_sep` repo for example).

    Note:

        Here is how to setup `mkdocs.yml` file to have an `include_dir` that can be used to 
        include generated markdown files (and the images/CSVs that they reference).

        ```
        plugins:
          - macros:
            include_dir: run_for_record
        ```

    """

    INCLUDE = 'include.md'
    dirs = list(root_dir.glob('**/'))
    dirs.sort()
    if dirs:
        min_len = np.min([len(list(p.parents)) for p in dirs])
        for s in dirs:
            child_dirs = list(s.glob('*/'))
            child_dirs.sort()
            tables_to_include: List[Path] = [x for x in flatten([list(s.glob(p, case_sensitive=False)) for p in ['*pivot.csv', '*stats.csv']])]
            figures_to_include: List[Path] = [x for x in flatten([list(s.glob(p, case_sensitive=False)) for p in ['*.jpg', '*.png']])]
            children_to_include: List[Path] = [
                c.resolve().joinpath(INCLUDE)
                for c in child_dirs
            ]
            if local_server_path is not None:
                figures_to_include = [
                    Path(local_server_path).joinpath(x.relative_to(root_dir))
                    for x in figures_to_include
                ]
            if mkdocs_include_dir is not None:
                tables_to_include = [
                    x.relative_to(mkdocs_include_dir.parent)
                    for x in tables_to_include
                ]
                children_to_include = [
                    x.relative_to(mkdocs_include_dir)
                    for x in children_to_include
                ]

            bb_open = r'{{'
            bb_close = r'}}'
            fig_inclusion_statements = [
                f'![]({x})' 
                for x in figures_to_include
            ]
            table_inclusion_statements = [
                f"{bb_open} read_csv('{x}', disable_numparse=True) {bb_close}"
                for x in tables_to_include
            ]
            child_inclusion_statments = [
                "{% include '" + str(x) + "' %}"
                for x in children_to_include
            ]
            fig_inclusion_statements.sort()
            table_inclusion_statements.sort()
            child_inclusion_statments.sort()
            inclusions = table_inclusion_statements + fig_inclusion_statements + child_inclusion_statments

            header = (
                ''.join(['#']*((len(list(s.parents))-min_len)+heading_level)) + s.name 
                if heading_level is not None and len(inclusions) &gt; 1
                else ''
            )
            text = '\n\n'.join([header] + inclusions)

            s.joinpath(INCLUDE).write_text(text)</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="trendify.products.make_products" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">make_products</span>


<a href="#trendify.products.make_products" class="headerlink" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code class="language-python doc-signature">make_products(
    product_generator: (
        <a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a>[[<a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>], <a class="autorefs autorefs-internal" title="trendify.products.DataProductCollection" href="#trendify.products.DataProductCollection">DataProductCollection</a>] | None
    ),
    dirs: <a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>],
    n_procs: <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a> = 1,
)</code></pre>

    <div class="doc doc-contents ">

        <p>Maps <code>product_generator</code> over <code>dirs_in</code> to produce data product JSON files in those directories.
Sorts the generated data products into a nested file structure starting from <code>dir_products</code>.
Nested folders are generated for tags that are Tuples.  Sorted data files are named according to the
directory from which they were loaded.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>product_generator</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a>[[<a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>], <span title="trendify.products.ProductList">ProductList</span>] | None</code>)
          
          <div class="doc-md-description">
            <p>A callable function that returns
a list of data products given a working directory.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>dirs</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>]</code>)
          
          <div class="doc-md-description">
            <p>Directories over which to map the <code>product_generator</code></p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>n_procs</code></b>
              (<code>int = 1</code>, default:
                  <code>1</code>
)
          
          <div class="doc-md-description">
            <p>Number of processes to run in parallel.  If <code>n_procs==1</code>, directories will be
processed sequentially (easier for debugging since the full traceback will be provided).
If <code>n_procs &gt; 1</code>, a <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/concurrent.futures.html#concurrent.futures.ProcessPoolExecutor">ProcessPoolExecutor</a> will
be used to load and process directories and/or tags in parallel.</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def make_products(
        product_generator: Callable[[Path], DataProductCollection] | None,
        dirs: List[Path],
        n_procs: int = 1,
    ):
    """
    Maps `product_generator` over `dirs_in` to produce data product JSON files in those directories.
    Sorts the generated data products into a nested file structure starting from `dir_products`.
    Nested folders are generated for tags that are Tuples.  Sorted data files are named according to the
    directory from which they were loaded.

    Args:
        product_generator (Callable[[Path], ProductList] | None): A callable function that returns
            a list of data products given a working directory.
        dirs (List[Path]): Directories over which to map the `product_generator`
        n_procs (int = 1): Number of processes to run in parallel.  If `n_procs==1`, directories will be
            processed sequentially (easier for debugging since the full traceback will be provided).
            If `n_procs &gt; 1`, a [ProcessPoolExecutor][concurrent.futures.ProcessPoolExecutor] will
            be used to load and process directories and/or tags in parallel.
    """
    sorted_dirs = get_sorted_dirs(dirs=dirs)

    if product_generator is None:
        print('No data product generator provided')
    else:
        print('\n\n\nGenerating tagged DataProducts and writing to JSON files...\n')
        map_callable(
            DataProductGenerator(processor=product_generator).process_and_save,
            sorted_dirs,
            n_procs=n_procs,
        )
        print('\nFinished generating tagged DataProducts and writing to JSON files')</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="trendify.products.make_sample_data" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">make_sample_data</span>


<a href="#trendify.products.make_sample_data" class="headerlink" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code class="language-python doc-signature">make_sample_data(workdir: <a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>, n_folders: <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a> = 10)</code></pre>

    <div class="doc doc-contents ">

        <p>Makes some sample data from which to generate products</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>workdir</code></b>
              (<code><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></code>)
          
          <div class="doc-md-description">
            <p>Directory in which the sample data is to be generated</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>n_folders</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>10</code>
)
          
          <div class="doc-md-description">
            <p>Number of sample data files to generate (in separate subfolders).</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def make_sample_data(workdir: Path, n_folders: int = 10):
    """
    Makes some sample data from which to generate products

    Args:
        workdir (Path): Directory in which the sample data is to be generated
        n_folders (int): Number of sample data files to generate (in separate subfolders).
    """
    models_dir = workdir.joinpath('models')
    models_dir.mkdir(parents=True, exist_ok=True)

    for n in range(n_folders):
        subdir = models_dir.joinpath(str(n))
        subdir.mkdir(exist_ok=True, parents=True)

        n_samples = np.random.randint(low=40, high=50)
        t = np.linspace(0, 1, n_samples)
        periods = np.random.uniform(low=0.9, high=1.1, size=5)
        amplitudes = np.random.uniform(low=0.9, high=1.1, size=5)

        n_inputs = {'n_samples': n_samples}
        p_inputs = {f'p{n}': p for n, p in enumerate(periods)}
        a_inputs = {f'a{n}': a for n, a in enumerate(amplitudes)}
        inputs = {}
        inputs.update(n_inputs)
        inputs.update(p_inputs)
        inputs.update(a_inputs)
        pd.Series(inputs).to_csv(subdir.joinpath('stdin.csv'), header=False)

        d = [t] + [a*np.sin(t*(2*np.pi/p)) for p, a in zip(periods, amplitudes)]
        df = pd.DataFrame(np.array(d).transpose(), columns=['a', 'c0', 'c1', 'c2', 'c3', 'c4'])
        df.to_csv(subdir.joinpath('results.csv'), index=False)

    csv_files = list(models_dir.glob('**/stdin.csv'))
    csv_files.sort()
    input_series = []
    for csv in csv_files:
        series: pd.Series = pd.read_csv(csv, index_col=0, header=None).squeeze() 
        series.name = int(csv.parent.stem)
        input_series.append(series)

    aggregate_dir = workdir.joinpath('aggregate')
    aggregate_dir.mkdir(parents=True, exist_ok=True)
    aggregate_df = pd.concat(input_series, axis=1).transpose()
    aggregate_df.index.name = 'Directory'
    aggregate_df.to_csv(aggregate_dir.joinpath('stdin.csv'))</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="trendify.products.make_tables_and_figures" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">make_tables_and_figures</span>


<a href="#trendify.products.make_tables_and_figures" class="headerlink" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code class="language-python doc-signature">make_tables_and_figures(
    products_dir: <a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>,
    output_dir: <a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>,
    dpi: <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a> = 500,
    n_procs: <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a> = 1,
    make_tables: <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a> = True,
    make_xy_plots: <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a> = True,
    make_histograms: <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a> = True,
)</code></pre>

    <div class="doc doc-contents ">

        <p>Makes CSV tables and creates plots (using matplotlib).</p>
<p>Tags will be processed in parallel and output in nested directory structure under <code>output_dir</code>.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>products_dir</code></b>
              (<code><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></code>)
          
          <div class="doc-md-description">
            <p>Directory to which the sorted data products will be written</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>output_dir</code></b>
              (<code><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></code>)
          
          <div class="doc-md-description">
            <p>Directory to which tables and matplotlib histograms and plots will be written if
the appropriate boolean variables <code>make_tables</code>, <code>make_xy_plots</code>, <code>make_histograms</code> are true.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>n_procs</code></b>
              (<code>int = 1</code>, default:
                  <code>1</code>
)
          
          <div class="doc-md-description">
            <p>Number of processes to run in parallel.  If <code>n_procs==1</code>, directories will be
processed sequentially (easier for debugging since the full traceback will be provided).
If <code>n_procs &gt; 1</code>, a <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/concurrent.futures.html#concurrent.futures.ProcessPoolExecutor">ProcessPoolExecutor</a> will
be used to load and process directories and/or tags in parallel.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>dpi</code></b>
              (<code>int = 500</code>, default:
                  <code>500</code>
)
          
          <div class="doc-md-description">
            <p>Resolution of output plots when using matplotlib 
(for <code>make_xy_plots==True</code> and/or <code>make_histograms==True</code>)</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>make_tables</code></b>
              (<code>bool = True</code>, default:
                  <code>True</code>
)
          
          <div class="doc-md-description">
            <p>Whether or not to collect the 
<a class="autorefs autorefs-internal" href="#trendify.products.TableEntry"><code>TableEntry</code></a> products and write them
to CSV files (<code>&lt;tag&gt;_melted.csv</code> with <code>&lt;tag&gt;_pivot.csv</code> and <code>&lt;tag&gt;_stats.csv</code> when possible).</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>make_xy_plots</code></b>
              (<code>bool = True</code>, default:
                  <code>True</code>
)
          
          <div class="doc-md-description">
            <p>Whether or not to plot the <a class="autorefs autorefs-internal" href="#trendify.products.XYData"><code>XYData</code></a> products using matplotlib</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>make_histograms</code></b>
              (<code>bool = True</code>, default:
                  <code>True</code>
)
          
          <div class="doc-md-description">
            <p>Whether or not to generate histograms of the 
<a class="autorefs autorefs-internal" href="#trendify.products.HistogramEntry"><code>HistogramEntry</code></a> products
using matplotlib.</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def make_tables_and_figures(
        products_dir: Path,
        output_dir: Path,
        dpi: int = 500,
        n_procs: int = 1,
        make_tables: bool = True,
        make_xy_plots: bool = True,
        make_histograms: bool = True,
    ):
    """
    Makes CSV tables and creates plots (using matplotlib).

    Tags will be processed in parallel and output in nested directory structure under `output_dir`.

    Args:
        products_dir (Path): Directory to which the sorted data products will be written
        output_dir (Path): Directory to which tables and matplotlib histograms and plots will be written if
            the appropriate boolean variables `make_tables`, `make_xy_plots`, `make_histograms` are true.
        n_procs (int = 1): Number of processes to run in parallel.  If `n_procs==1`, directories will be
            processed sequentially (easier for debugging since the full traceback will be provided).
            If `n_procs &gt; 1`, a [ProcessPoolExecutor][concurrent.futures.ProcessPoolExecutor] will
            be used to load and process directories and/or tags in parallel.
        dpi (int = 500): Resolution of output plots when using matplotlib 
            (for `make_xy_plots==True` and/or `make_histograms==True`)
        make_tables (bool = True): Whether or not to collect the 
            [`TableEntry`][trendify.products.TableEntry] products and write them
            to CSV files (`&lt;tag&gt;_melted.csv` with `&lt;tag&gt;_pivot.csv` and `&lt;tag&gt;_stats.csv` when possible).
        make_xy_plots (bool = True): Whether or not to plot the [`XYData`][trendify.products.XYData] products using matplotlib
        make_histograms (bool = True): Whether or not to generate histograms of the 
            [`HistogramEntry`][trendify.products.HistogramEntry] products
            using matplotlib.
    """
    if make_tables or make_xy_plots or make_histograms:
        product_dirs = list(products_dir.glob('**/*/'))
        out_dirs = [output_dir]*len(product_dirs)
        table_makes = [make_tables]*len(product_dirs)
        xy_plot_makes = [make_xy_plots]*len(product_dirs)
        histogram_makes = [make_histograms]*len(product_dirs)
        dpis = [dpi]*len(product_dirs)
        map_callable(
            DataProductCollection.process_single_tag_collection,
            product_dirs,
            out_dirs,
            table_makes,
            xy_plot_makes,
            histogram_makes,
            dpis,
            n_procs=n_procs,
        )</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="trendify.products.map_callable" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">map_callable</span>


<a href="#trendify.products.map_callable" class="headerlink" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code class="language-python doc-signature">map_callable(
    f: <a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a>[[<a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>], <a class="autorefs autorefs-internal" title="trendify.products.DataProductCollection" href="#trendify.products.DataProductCollection">DataProductCollection</a>],
    *iterables,
    n_procs: <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a> = 1,
    mp_context=None
)</code></pre>

    <div class="doc doc-contents ">



<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>f</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a>[[<a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>], <a class="autorefs autorefs-internal" title="trendify.products.DataProductCollection" href="#trendify.products.DataProductCollection">DataProductCollection</a>]</code>)
          
          <div class="doc-md-description">
            <p>Function to be mapped</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>iterables</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple">Tuple</a>[<a class="autorefs autorefs-external" title="typing.Iterable" href="https://docs.python.org/3/library/typing.html#typing.Iterable">Iterable</a>, ...]</code>, default:
                  <code>()</code>
)
          
          <div class="doc-md-description">
            <p>iterables of arguments for mapped function <code>f</code></p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>n_procs</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>1</code>
)
          
          <div class="doc-md-description">
            <p>Number of parallel processes to run</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>mp_context</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>None</code>
)
          
          <div class="doc-md-description">
            <p>Context to use for creating new processes (see <code>multiprocessing</code> package documentation)</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def map_callable(
        f: Callable[[Path], DataProductCollection], 
        *iterables, 
        n_procs: int=1, 
        mp_context=None,
    ):
    """
    Args:
        f (Callable[[Path], DataProductCollection]): Function to be mapped
        iterables (Tuple[Iterable, ...]): iterables of arguments for mapped function `f`
        n_procs (int): Number of parallel processes to run
        mp_context (str): Context to use for creating new processes (see `multiprocessing` package documentation)
    """
    if n_procs &gt; 1:
        with ProcessPoolExecutor(max_workers=n_procs, mp_context=mp_context) as executor:
            result = list(executor.map(f, *iterables))
    else:
        result = [f(*arg_tuple) for arg_tuple in zip(*iterables)]

    return result</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="trendify.products.process_batch" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">process_batch</span>


<a href="#trendify.products.process_batch" class="headerlink" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code class="language-python doc-signature">process_batch(
    product_generator: (
        <a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a>[[<a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>], <a class="autorefs autorefs-internal" title="trendify.products.DataProductCollection" href="#trendify.products.DataProductCollection">DataProductCollection</a>] | None
    ),
    data_dirs: <a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>],
    products_dir: <a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>,
    outputs_dir: <a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>,
    grafana_dir: <a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a> | None = None,
    n_procs: <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a> = 1,
    dpi: <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a> = 500,
    make_tables: <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a> = True,
    make_xy_plots: <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a> = True,
    make_histograms: <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a> = True,
)</code></pre>

    <div class="doc doc-contents ">

        <p>Maps <code>product_generator</code> over <code>dirs_in</code> to produce data product JSON files in those directories.
Sorts the generated data products into a nested file structure starting from <code>dir_products</code>.
Nested folders are generated for tags that are Tuples.  Sorted data files are named according to the
directory from which they were loaded.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>product_generator</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a>[[<a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>], <span title="trendify.products.ProductList">ProductList</span>] | None</code>)
          
          <div class="doc-md-description">
            <p>A callable function that returns
a list of data products given a working directory.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>data_dirs</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>]</code>)
          
          <div class="doc-md-description">
            <p>Directories over which to map the <code>product_generator</code></p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>products_dir</code></b>
              (<code><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></code>)
          
          <div class="doc-md-description">
            <p>Directory to which the sorted data products will be written</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>outputs_dir</code></b>
              (<code><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></code>)
          
          <div class="doc-md-description">
            <p>Directory to which tables and matplotlib histograms and plots will be written if
the appropriate boolean variables <code>make_tables</code>, <code>make_xy_plots</code>, <code>make_histograms</code> are true.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>grafana_dir</code></b>
              (<code><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></code>, default:
                  <code>None</code>
)
          
          <div class="doc-md-description">
            <p>Directory to which generated grafana panels and dashboard will be written.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>n_procs</code></b>
              (<code>int = 1</code>, default:
                  <code>1</code>
)
          
          <div class="doc-md-description">
            <p>Number of processes to run in parallel.  If <code>n_procs==1</code>, directories will be
processed sequentially (easier for debugging since the full traceback will be provided).
If <code>n_procs &gt; 1</code>, a <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/concurrent.futures.html#concurrent.futures.ProcessPoolExecutor">ProcessPoolExecutor</a> will
be used to load and process directories and/or tags in parallel.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>dpi</code></b>
              (<code>int = 500</code>, default:
                  <code>500</code>
)
          
          <div class="doc-md-description">
            <p>Resolution of output plots when using matplotlib 
(for <code>make_xy_plots==True</code> and/or <code>make_histograms==True</code>)</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>make_tables</code></b>
              (<code>bool = True</code>, default:
                  <code>True</code>
)
          
          <div class="doc-md-description">
            <p>Whether or not to collect the 
<a class="autorefs autorefs-internal" href="#trendify.products.TableEntry"><code>TableEntry</code></a> products and write them
to CSV files (<code>&lt;tag&gt;_melted.csv</code> with <code>&lt;tag&gt;_pivot.csv</code> and <code>&lt;tag&gt;_stats.csv</code> when possible).</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>make_xy_plots</code></b>
              (<code>bool = True</code>, default:
                  <code>True</code>
)
          
          <div class="doc-md-description">
            <p>Whether or not to plot the <a class="autorefs autorefs-internal" href="#trendify.products.XYData"><code>XYData</code></a> products using matplotlib</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>make_histograms</code></b>
              (<code>bool = True</code>, default:
                  <code>True</code>
)
          
          <div class="doc-md-description">
            <p>Whether or not to generate histograms of the 
<a class="autorefs autorefs-internal" href="#trendify.products.HistogramEntry"><code>HistogramEntry</code></a> products
using matplotlib.</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def process_batch(
        product_generator: Callable[[Path], DataProductCollection] | None,
        data_dirs: List[Path],
        products_dir: Path,
        outputs_dir: Path,
        grafana_dir: Path | None = None,
        n_procs: int = 1,
        dpi: int = 500,
        make_tables: bool = True,
        make_xy_plots: bool = True,
        make_histograms: bool = True,
    ):
    """
    Maps `product_generator` over `dirs_in` to produce data product JSON files in those directories.
    Sorts the generated data products into a nested file structure starting from `dir_products`.
    Nested folders are generated for tags that are Tuples.  Sorted data files are named according to the
    directory from which they were loaded.

    Args:
        product_generator (Callable[[Path], ProductList] | None): A callable function that returns
            a list of data products given a working directory.
        data_dirs (List[Path]): Directories over which to map the `product_generator`
        products_dir (Path): Directory to which the sorted data products will be written
        outputs_dir (Path): Directory to which tables and matplotlib histograms and plots will be written if
            the appropriate boolean variables `make_tables`, `make_xy_plots`, `make_histograms` are true.
        grafana_dir (Path): Directory to which generated grafana panels and dashboard will be written.
        n_procs (int = 1): Number of processes to run in parallel.  If `n_procs==1`, directories will be
            processed sequentially (easier for debugging since the full traceback will be provided).
            If `n_procs &gt; 1`, a [ProcessPoolExecutor][concurrent.futures.ProcessPoolExecutor] will
            be used to load and process directories and/or tags in parallel.
        dpi (int = 500): Resolution of output plots when using matplotlib 
            (for `make_xy_plots==True` and/or `make_histograms==True`)
        make_tables (bool = True): Whether or not to collect the 
            [`TableEntry`][trendify.products.TableEntry] products and write them
            to CSV files (`&lt;tag&gt;_melted.csv` with `&lt;tag&gt;_pivot.csv` and `&lt;tag&gt;_stats.csv` when possible).
        make_xy_plots (bool = True): Whether or not to plot the [`XYData`][trendify.products.XYData] products using matplotlib
        make_histograms (bool = True): Whether or not to generate histograms of the 
            [`HistogramEntry`][trendify.products.HistogramEntry] products
            using matplotlib.
    """
    make_products(
        product_generator=product_generator,
        dirs=data_dirs,
        n_procs=n_procs,
    )
    sort_products(
        data_dirs=data_dirs,
        output_dir=products_dir,
    )
    make_grafana_dashboard(
        sorted_products_dir=products_dir,
        output_dir=grafana_dir,
        n_procs=n_procs,
    )
    make_tables_and_figures(
        products_dir=products_dir,
        output_dir=outputs_dir,
        dpi=dpi,
        n_procs=n_procs,
        make_tables=make_tables,
        make_xy_plots=make_xy_plots,
        make_histograms=make_histograms,
    )
    make_include_files(
        root_dir=outputs_dir,
        heading_level=2,
    )</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="trendify.products.sample_processor" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">sample_processor</span>


<a href="#trendify.products.sample_processor" class="headerlink" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code class="language-python doc-signature">sample_processor(workdir: <a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>) -&gt; <a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-internal" title="trendify.products.DataProduct" href="#trendify.products.DataProduct">DataProduct</a>]</code></pre>

    <div class="doc doc-contents ">

        <p>Processes the generated sample data in given workdir returning several types of data products.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>workdir</code></b>
              (<code><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></code>)
          
          <div class="doc-md-description">
            <p>Directory containing sample data.</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def sample_processor(workdir: Path) -&gt; List[DataProduct]:
    """
    Processes the generated sample data in given workdir returning several types of data products.

    Args:
        workdir (Path): Directory containing sample data.
    """
    df = pd.read_csv(workdir.joinpath('results.csv'))
    df = df.set_index('a', drop=True)
    traces = [
        Trace2D.from_xy(
            x=df.index,
            y=df[col].values,
            tags=['trace_plots'],
            pen=Pen(label=f'{col} {int(workdir.name)}'),
            format2d=Format2D(title_legend='Column'),
        )
        for col in df.columns
    ]
    points = [
        Point2D(
            x=workdir.name,
            y=len(trace.y),
            marker=Marker(
                size=10,
                label=trace.pen.label,
            ),
            format2d=Format2D(title_fig='N Points'),
            tags=['scatter_plots'],
        )
        for trace
        in traces
    ]
    table_entries = [
        TableEntry(
            row=workdir.name,
            col=name,
            value=len(series),
            tags=['tables'],
            unit=None,
        )
        for name, series in df.items()
    ]

    return traces + points + table_entries</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="trendify.products.should_be_flattened" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">should_be_flattened</span>


<a href="#trendify.products.should_be_flattened" class="headerlink" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code class="language-python doc-signature">should_be_flattened(obj: <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a>)</code></pre>

    <div class="doc doc-contents ">

        <p>Checks if object is an iterable container that should be flattened.
<code>DataProduct</code>s will not be flattened.  Strings will not be flattened.
Everything else will be flattened.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>obj</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></code>)
          
          <div class="doc-md-description">
            <p>Object to be tested</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
          
          <div class="doc-md-description">
            <p>Whether or not to flatten object</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def should_be_flattened(obj: Any):
    """
    Checks if object is an iterable container that should be flattened.
    `DataProduct`s will not be flattened.  Strings will not be flattened.
    Everything else will be flattened.

    Args:
        obj (Any): Object to be tested

    Returns:
        (bool): Whether or not to flatten object
    """
    return isinstance(obj, Iterable) and not isinstance(obj, (str, bytes, DataProduct))</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="trendify.products.sort_products" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">sort_products</span>


<a href="#trendify.products.sort_products" class="headerlink" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code class="language-python doc-signature">sort_products(data_dirs: <a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>], output_dir: <a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>)</code></pre>

    <div class="doc doc-contents ">

        <p>Loads the tagged data products from <code>data_dirs</code> and sorts them (by tag) into a nested folder structure rooted at <code>output_dir</code>.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>data_dirs</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a>]</code>)
          
          <div class="doc-md-description">
            <p>Directories containing JSON data product files</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>output_dir</code></b>
              (<code><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></code>)
          
          <div class="doc-md-description">
            <p>Directory to which sorted products will be written</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def sort_products(
        data_dirs: List[Path],
        output_dir: Path,
    ):
    """
    Loads the tagged data products from `data_dirs` and sorts them (by tag) into a nested folder structure rooted at `output_dir`.

    Args:
        data_dirs (List[Path]): Directories containing JSON data product files
        output_dir (Path): Directory to which sorted products will be written
    """
    sorted_data_dirs = get_sorted_dirs(dirs=data_dirs)

    print('\n\n\nSorting data by tags')
    output_dir.mkdir(parents=True, exist_ok=True)

    DataProductCollection.sort_by_tags(
        dirs_in=sorted_data_dirs,
        dir_out=output_dir,
    )
    print('\nFinished sorting by tags')</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="trendify.products.squeeze" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">squeeze</span>


<a href="#trendify.products.squeeze" class="headerlink" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code class="language-python doc-signature">squeeze(obj: <a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" title="typing.Iterable" href="https://docs.python.org/3/library/typing.html#typing.Iterable">Iterable</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a>])</code></pre>

    <div class="doc doc-contents ">

        <p>Returns a scalar if object is iterable of length 1 else returns object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>obj</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" title="typing.Iterable" href="https://docs.python.org/3/library/typing.html#typing.Iterable">Iterable</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a>]</code>)
          
          <div class="doc-md-description">
            <p>An object to be squeezed if possible</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></code>
          
          <div class="doc-md-description">
            <p>Either iterable or scalar if possible</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>src/trendify/products.py</code></summary>
              <pre class="highlight"><code class="language-python">def squeeze(obj: Union[Iterable, Any]):
    """
    Returns a scalar if object is iterable of length 1 else returns object.

    Args:
        obj (Union[Iterable, Any]): An object to be squeezed if possible

    Returns:
        (Any): Either iterable or scalar if possible
    """
    if should_be_flattened(obj) and len(obj) == 1:
        return obj[0]
    else:
        return obj</code></pre>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 <a href="https://github.com/TalbotKnighton">Talbot Knighton</a>, Maintained by the <a href="https://github.com/TalbotKnighton">Talbot Knighton</a>.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["header.autohide", "content.tabs.link", "content.tabs", "navigation.tabs"], "search": "../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  </body>
</html>